// ==UserScript==
// @name         Healthie Care Plan Integration Staging
// @namespace    http://tampermonkey.net/
// @version      0.74
// @description  Injecting care plan components into Healthie
// @author       Don, Tonye, Alejandro
// @match        https://*.gethealthie.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=vori.health
// @sandbox      JavaScript
// @grant        GM_setValue
// @grant        GM_getValue
// ==/UserScript==

/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@datadog/browser-logs/bundle/datadog-logs.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@datadog/browser-logs/bundle/datadog-logs.js ***!
  \*******************************************************************/
/***/ (() => {

eval("!function(){\"use strict\";var e={log:\"log\",debug:\"debug\",info:\"info\",warn:\"warn\",error:\"error\"},t=console,n={};Object.keys(e).forEach((function(e){n[e]=t[e]}));var r=\"Datadog Browser SDK:\",o={debug:n.debug.bind(t,r),log:n.log.bind(t,r),info:n.info.bind(t,r),warn:n.warn.bind(t,r),error:n.error.bind(t,r)};function i(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){o.error(t,e)}}}var a,s=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=!1;function c(e){u=e}function f(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(a?l(r):r).apply(this,e)}}function l(e){return function(){return d(e,this,arguments)}}function d(e,t,n){try{return e.apply(t,n)}catch(e){if(p(e),a)try{a(e)}catch(e){p(e)}}}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u&&o.error.apply(o,s([\"[MONITOR]\"],e,!1))}function v(e,t){return-1!==e.indexOf(t)}function g(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function h(e){return Object.keys(e).map((function(t){return e[t]}))}function y(e,t){return e.slice(0,t.length)===t}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function b(){if(\"object\"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,\"_dd_temp_\",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,\"object\"!=typeof e&&(e=\"object\"==typeof self?self:\"object\"==typeof window?window:{}),e}var E=1024,S=1024*E,w=/[^\\u0000-\\u007F]/;function C(e){return w.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function _(e,t){var n,r=b();return r.Zone&&\"function\"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function x(e,t){return _(b(),\"setTimeout\")(l(e),t)}function k(e){_(b(),\"clearTimeout\")(e)}function O(e,t){return _(b(),\"setInterval\")(l(e),t)}function T(e){_(b(),\"clearInterval\")(e)}function R(e,t,n){var r,o,i=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(i?e.apply(void 0,n):r=n,s=!0,o=x((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){k(o),s=!1,r=void 0}}}function L(){}function A(e,t,n){if(\"object\"!=typeof e||null===e)return JSON.stringify(e);var r=I(Object.prototype),o=I(Array.prototype),i=I(Object.getPrototypeOf(e)),a=I(e);try{return JSON.stringify(e,t,n)}catch(e){return\"<error: unable to serialize object>\"}finally{r(),o(),i(),a()}}function I(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):L}function P(e){return 0===Object.keys(e).length}var B=3*E,D=16*E,N=200;function U(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var i=2===e?B:D,a=r;t.forEach((function(e){a+=e.getBytesCount()})),a>i&&(!function(e){o.warn(\"Customer data exceeds the recommended \".concat(e/E,\"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning\"))}(i),n=!0)}}return{createDetachedTracker:function(){var e=M((function(){return r(e.getBytesCount())}));return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,M(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach((function(e){return e.stop()})),t.clear()}}}function M(e){var t=0,n=R((function(n){t=C(A(n)),e()}),N),r=n.throttled,o=n.cancel,i=function(){o(),t=0};return{updateCustomerData:function(e){P(e)?i():r(e)},resetCustomerData:i,getBytesCount:function(){return t},stop:function(){o()}}}function q(e){return null===e?\"null\":Array.isArray(e)?\"array\":typeof e}function j(e,t,n){if(void 0===n&&(n=function(){if(\"undefined\"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if(\"object\"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?\"g\":\"\",t.ignoreCase?\"i\":\"\",t.multiline?\"m\":\"\",t.sticky?\"y\":\"\",t.unicode?\"u\":\"\"].join(\"\");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=j(o[i],t[i],n);return o}var a=\"object\"===q(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=j(a[s],t[s],n));return a}}function H(e){return j(void 0,e)}function G(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];null!=i&&(e=j(e,i))}return e}var F=220*E,V=\"$\",z=3;function Y(e,t){var n;void 0===t&&(t=F);var r=I(Object.prototype),o=I(Array.prototype),i=[],a=new WeakMap,s=W(e,V,void 0,i,a),u=(null===(n=JSON.stringify(s))||void 0===n?void 0:n.length)||0;if(!(u>t)){for(;i.length>0&&u<t;){var c=i.shift(),f=0;if(Array.isArray(c.source))for(var l=0;l<c.source.length;l++){if(u+=void 0!==(d=W(c.source[l],c.path,l,i,a))?JSON.stringify(d).length:4,u+=f,f=1,u>t){J(t,\"truncated\",e);break}c.target[l]=d}else for(var l in c.source)if(Object.prototype.hasOwnProperty.call(c.source,l)){var d;if(void 0!==(d=W(c.source[l],c.path,l,i,a))&&(u+=JSON.stringify(d).length+f+l.length+z,f=1),u>t){J(t,\"truncated\",e);break}c.target[l]=d}}return r(),o(),s}J(t,\"discarded\",e)}function W(e,t,n,r,o){var i=function(e){var t=e;if(t&&\"function\"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(e);if(!i||\"object\"!=typeof i)return function(e){if(\"bigint\"==typeof e)return\"[BigInt] \".concat(e.toString());if(\"function\"==typeof e)return\"[Function] \".concat(e.name||\"unknown\");if(\"symbol\"==typeof e)return\"[Symbol] \".concat(e.description||e.toString());return e}(i);var a=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\\[object (.*)\\]/);if(t&&t[1])return\"[\".concat(t[1],\"]\")}catch(e){}return\"[Unserializable]\"}(i);if(\"[Object]\"!==a&&\"[Array]\"!==a&&\"[Error]\"!==a)return a;var s=e;if(o.has(s))return\"[Reference seen at \".concat(o.get(s),\"]\");var u=void 0!==n?\"\".concat(t,\".\").concat(n):t,c=Array.isArray(i)?[]:{};return o.set(s,u),r.push({source:i,target:c,path:u}),c}function J(e,t,n){o.warn(\"The data provided has been \".concat(t,\" as it is over the limit of \").concat(e,\" characters:\"),n)}var K=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new K((function(t){var n=e.map((function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return n.forEach((function(e){return e.unsubscribe()}))}}))}function $(e){var t={},n=new K,r={getContext:function(){return H(t)},setContext:function(o){\"object\"===q(o)?(t=Y(o),e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,o){t[r]=Y(o),e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],e.updateCustomerData(t),n.notify()},clearContext:function(){t={},e.resetCustomerData(),n.notify()},changeObservable:n};return r}var X,Q,ee=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}(),te=1e3,ne=60*te,re=60*ne;function oe(){return(new Date).getTime()}function ie(){return oe()}function ae(){return performance.now()}function se(){return{relative:ae(),timeStamp:ie()}}function ue(e,t){return e+t}function ce(){return void 0===X&&(X=performance.timing.navigationStart),X}function fe(){var e=b().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function le(e){var t;void 0===e&&(e=null===(t=b().location)||void 0===t?void 0:t.hostname);var n=fe();return!!n&&n.getAllowedWebViewHosts().some((function(t){return e===t||(n=e,r=\".\".concat(t),n.slice(-r.length)===r);var n,r}))}function de(e,t,n,r,o){return pe(e,t,[n],r,o)}function pe(e,t,n,r,o){var i=void 0===o?{}:o,a=i.once,s=i.capture,u=i.passive,c=l((function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&p(),r(t))})),f=u?{capture:s,passive:u}:s,d=_(t,\"addEventListener\");function p(){var e=_(t,\"removeEventListener\");n.forEach((function(n){return e.call(t,n,c,f)}))}return n.forEach((function(e){return d.call(t,e,c,f)})),{stop:p}}!function(e){e.BEFORE_UNLOAD=\"beforeunload\",e.CLICK=\"click\",e.DBL_CLICK=\"dblclick\",e.KEY_DOWN=\"keydown\",e.LOAD=\"load\",e.POP_STATE=\"popstate\",e.SCROLL=\"scroll\",e.TOUCH_START=\"touchstart\",e.TOUCH_END=\"touchend\",e.TOUCH_MOVE=\"touchmove\",e.VISIBILITY_CHANGE=\"visibilitychange\",e.PAGE_SHOW=\"pageshow\",e.FREEZE=\"freeze\",e.RESUME=\"resume\",e.DOM_CONTENT_LOADED=\"DOMContentLoaded\",e.POINTER_DOWN=\"pointerdown\",e.POINTER_UP=\"pointerup\",e.POINTER_CANCEL=\"pointercancel\",e.HASH_CHANGE=\"hashchange\",e.PAGE_HIDE=\"pagehide\",e.MOUSE_DOWN=\"mousedown\",e.MOUSE_UP=\"mouseup\",e.MOUSE_MOVE=\"mousemove\",e.FOCUS=\"focus\",e.BLUR=\"blur\",e.CONTEXT_MENU=\"contextmenu\",e.RESIZE=\"resize\",e.CHANGE=\"change\",e.INPUT=\"input\",e.PLAY=\"play\",e.PAUSE=\"pause\",e.SECURITY_POLICY_VIOLATION=\"securitypolicyviolation\",e.SELECTION_CHANGE=\"selectionchange\",e.STORAGE=\"storage\"}(Q||(Q={}));var ve,ge=\"_dd_c\",he=[];function ye(e,t,n,r){var o=function(e,t){return\"\".concat(ge,\"_\").concat(e,\"_\").concat(t)}(n,r);function i(){var e=localStorage.getItem(o);return null!==e?JSON.parse(e):{}}he.push(de(e,window,Q.STORAGE,(function(e){var n=e.key;o===n&&t.setContext(i())}))),t.changeObservable.subscribe((function(){localStorage.setItem(o,JSON.stringify(t.getContext()))})),t.setContext(G(i(),t.getContext()))}function me(e){var t=m({},e);return[\"id\",\"name\",\"email\"].forEach((function(e){e in t&&(t[e]=String(t[e]))})),t}!function(e){e.PAGEHIDE=\"pagehide\",e.FEATURE_FLAGS=\"feature_flags\",e.RESOURCE_PAGE_STATES=\"resource_page_states\",e.COLLECT_FLUSH_REASON=\"collect_flush_reason\",e.ZERO_LCP_TELEMETRY=\"zero_lcp_telemetry\",e.DISABLE_REPLAY_INLINE_CSS=\"disable_replay_inline_css\",e.WRITABLE_RESOURCE_GRAPHQL=\"writable_resource_graphql\"}(ve||(ve={}));var be=new Set;function Ee(e){return be.has(e)}function Se(){return be}function we(e){return 0!==e&&100*Math.random()<=e}function Ce(e){return function(e){return\"number\"==typeof e}(e)&&e>=0&&e<=100}function _e(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):\"\".concat(1e7,\"-\").concat(1e3,\"-\").concat(4e3,\"-\").concat(8e3,\"-\").concat(1e11).replace(/[018]/g,_e)}var xe=/([\\w-]+)\\s*=\\s*([^;]+)/g;function ke(e,t,n){void 0===n&&(n=\"\");var r=e.charCodeAt(t-1),o=r>=55296&&r<=56319?t+1:t;return e.length<=o?e:\"\".concat(e.slice(0,o)).concat(n)}var Oe,Te,Re,Le=4*re,Ae=15*ne;function Ie(){return null!=Oe?Oe:Oe=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return 1;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf(\"Apple\"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return 2;if(e.document.documentMode)return 0;return 3}()}function Pe(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var i=\"expires=\".concat(o.toUTCString()),a=r&&r.crossSite?\"none\":\"strict\",s=r&&r.domain?\";domain=\".concat(r.domain):\"\",u=r&&r.secure?\";secure\":\"\",c=r&&r.partitioned?\";partitioned\":\"\";document.cookie=\"\".concat(e,\"=\").concat(t,\";\").concat(i,\";path=/;samesite=\").concat(a).concat(s).concat(u).concat(c)}function Be(e){return function(e,t){for(xe.lastIndex=0;;){var n=xe.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,e)}function De(e){return Te||(Te=function(e){var t=new Map;for(xe.lastIndex=0;;){var n=xe.exec(e);if(!n)break;t.set(n[1],n[2])}return t}(document.cookie)),Te.get(e)}function Ne(e,t){Pe(e,\"\",0,t)}var Ue=\"_dd_s\",Me=/^([a-z]+)=([a-z0-9-]+)$/,qe=\"&\";function je(e){return P(e)}function He(e){e.expire=String(oe()+Ae)}function Ge(e){return(t=e,Object.keys(t).map((function(e){return[e,t[e]]}))).map((function(e){var t=e[0],n=e[1];return\"\".concat(t,\"=\").concat(n)})).join(qe);var t}function Fe(e){var t={};return function(e){return!!e&&(-1!==e.indexOf(qe)||Me.test(e))}(e)&&e.split(qe).forEach((function(e){var n=Me.exec(e);if(null!==n){var r=n[1],o=n[2];t[r]=o}})),t}var Ve=\"_dd\",ze=\"_dd_r\",Ye=\"_dd_l\",We=\"rum\",Je=\"logs\";function Ke(e){var t=function(e){var t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===Re){for(var e=\"dd_site_test_\".concat(_e()),t=window.location.hostname.split(\".\"),n=t.pop();t.length&&!Be(e);)n=\"\".concat(t.pop(),\".\").concat(n),Pe(e,\"test\",te,{domain:n});Ne(e,{domain:n}),Re=n}return Re}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t=\"dd_cookie_test_\".concat(_e()),n=\"test\";Pe(t,n,ne,e);var r=Be(t)===n;return Ne(t,e),r}catch(e){return o.error(e),!1}}(t)?{type:\"Cookie\",cookieOptions:t}:void 0}function Ze(e){var t,n={isLockEnabled:1===Ie(),persistSession:(t=e,function(e){Pe(Ue,Ge(e),Ae,t)}),retrieveSession:$e,clearSession:Xe(e)};return function(e){if(!De(Ue)){var t=De(Ve),n=De(ze),r=De(Ye),o={};t&&(o.id=t),r&&/^[01]$/.test(r)&&(o[Je]=r),n&&/^[012]$/.test(n)&&(o[We]=n),je(o)||(He(o),e.persistSession(o))}}(n),n}function $e(){return Fe(Be(Ue))}function Xe(e){return function(){Ne(Ue,e)}}var Qe=\"_dd_test_\";function et(e){localStorage.setItem(Ue,Ge(e))}function tt(){return Fe(localStorage.getItem(Ue))}function nt(){localStorage.removeItem(Ue)}var rt,ot=10,it=100,at=[];function st(e,t,n){var r;void 0===n&&(n=0);var o=t.isLockEnabled,i=t.retrieveSession,a=t.persistSession,s=t.clearSession;if(rt||(rt=e),e===rt)if(o&&n>=it)ct(t);else{var u,c=i();if(o){if(c.lock)return void ut(e,t,n);if(u=_e(),c.lock=u,a(c),(c=i()).lock!==u)return void ut(e,t,n)}var f=e.process(c);if(o&&(c=i()).lock!==u)ut(e,t,n);else{if(f&&(je(f)?s():(He(f),a(f))),o&&(!f||!je(f))){if((c=i()).lock!==u)return void ut(e,t,n);delete c.lock,a(c),f=c}null===(r=e.after)||void 0===r||r.call(e,f||c),ct(t)}}else at.push(e)}function ut(e,t,n){x((function(){st(e,t,n+1)}),ot)}function ct(e){rt=void 0;var t=at.shift();t&&st(t,e)}var ft=te;function lt(e){var t=Ke(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=_e(),t=\"\".concat(Qe).concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:\"LocalStorage\"}:void 0}catch(e){return}}()),t}function dt(e,t,n){var r=new K,o=new K,i=\"Cookie\"===e.type?Ze(e.cookieOptions):{isLockEnabled:!1,persistSession:et,retrieveSession:tt,clearSession:nt},a=i.clearSession,s=i.retrieveSession,u=O((function(){st({process:function(e){return d(e)?void 0:{}},after:f},i)}),ft),c=function(){var e=s();if(d(e))return e;return{}}();function f(e){return d(e)||(e={}),l()&&(!function(e){return c.id!==e.id||c[t]!==e[t]}(e)?c=e:(c={},o.notify())),e}function l(){return void 0!==c[t]}function d(e){return(void 0===e.created||oe()-Number(e.created)<Le)&&(void 0===e.expire||oe()<Number(e.expire))}return{expandOrRenewSession:R((function(){var e;st({process:function(r){var o=f(r);return e=function(e){var r=n(e[t]),o=r.trackingType,i=r.isTracked;e[t]=o,i&&!e.id&&(e.id=_e(),e.created=String(oe()));return i}(o),o},after:function(t){e&&!l()&&function(e){c=e,r.notify()}(t),c=t}},i)}),ft).throttled,expandSession:function(){st({process:function(e){return l()?f(e):void 0}},i)},getSession:function(){return c},renewObservable:r,expireObservable:o,expire:function(){a(),f({})},stop:function(){T(u)}}}function pt(e){return vt(e,yt(window.location)).href}function vt(e,t){var n=function(){if(void 0===gt)try{var e=new ht(\"http://test/path\");gt=\"http://test/path\"===e.href}catch(e){gt=!1}return gt?ht:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw new Error(\"Failed to construct URL: \".concat(String(n),\" \").concat(A({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw new Error(\"Invalid URL: '\".concat(e,\"'\"));var r=document,o=r.createElement(\"a\");if(void 0!==t){var i=(r=document.implementation.createHTMLDocument(\"\")).createElement(\"base\");i.href=t,r.head.appendChild(i),r.body.appendChild(o)}return o.href=e,o}var gt,ht=URL;function yt(e){if(e.origin&&\"null\"!==e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,\"\");return\"\".concat(e.protocol,\"//\").concat(t)}var mt=\"datad0g.com\",bt=\"dd0g-gov.com\",Et=\"datadoghq.com\";function St(e,t,n){var r=function(e,t){var n=\"/api/v2/\".concat(t),r=e.proxy;if(\"string\"==typeof r){var o=pt(r);return function(e){return\"\".concat(o,\"?ddforward=\").concat(encodeURIComponent(\"\".concat(n,\"?\").concat(e)))}}if(\"function\"==typeof r)return function(e){return r({path:n,parameters:e})};var i=function(e){var t=e.site,n=void 0===t?Et:t,r=e.internalAnalyticsSubdomain;if(r&&n===Et)return\"\".concat(r,\".\").concat(Et);if(n===bt)return\"http-intake.logs.\".concat(n);var o=n.split(\".\"),i=o.pop();return\"browser-intake-\".concat(o.join(\"-\"),\".\").concat(i)}(e);return function(e){return\"https://\".concat(i).concat(n,\"?\").concat(e)}}(e,t);return{build:function(o,i){var a=function(e,t,n,r,o){var i=e.clientToken,a=e.internalAnalyticsSubdomain,s=o.retry,u=o.flushReason,c=o.encoding,f=[\"sdk_version:\".concat(\"5.8.0\"),\"api:\".concat(r)].concat(n);u&&Ee(ve.COLLECT_FLUSH_REASON)&&f.push(\"flush_reason:\".concat(u));s&&f.push(\"retry_count:\".concat(s.count),\"retry_after:\".concat(s.lastFailureStatus));var l=[\"ddsource=browser\",\"ddtags=\".concat(encodeURIComponent(f.join(\",\"))),\"dd-api-key=\".concat(i),\"dd-evp-origin-version=\".concat(encodeURIComponent(\"5.8.0\")),\"dd-evp-origin=browser\",\"dd-request-id=\".concat(_e())];c&&l.push(\"dd-evp-encoding=\".concat(c));\"rum\"===t&&l.push(\"batch_time=\".concat(ie()));a&&l.reverse();return l.join(\"&\")}(e,t,n,o,i);return r(a)},urlPrefix:r(\"\"),trackType:t}}var wt=200;var Ct=/[^a-z0-9_:./-]/;function _t(e,t){var n=wt-e.length-1;(t.length>n||Ct.test(t))&&o.warn(\"\".concat(e,\" value doesn't meet tag requirements and will be sanitized\"));var r=t.replace(/,/g,\"_\");return\"\".concat(e,\":\").concat(r)}function xt(e){var t=function(e){var t=e.env,n=e.service,r=e.version,o=e.datacenter,i=[];return t&&i.push(_t(\"env\",t)),n&&i.push(_t(\"service\",n)),r&&i.push(_t(\"version\",r)),o&&i.push(_t(\"datacenter\",o)),i}(e),n=function(e,t){return{logsEndpointBuilder:St(e,\"logs\",t),rumEndpointBuilder:St(e,\"rum\",t),sessionReplayEndpointBuilder:St(e,\"replay\",t)}}(e,t),r=h(n).map((function(e){return e.urlPrefix})),o=function(e,t,n){if(!e.replica)return;var r=m({},e,{site:Et,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:St(r,\"logs\",n),rumEndpointBuilder:St(r,\"rum\",n)};return t.push.apply(t,h(o).map((function(e){return e.urlPrefix}))),m({applicationId:e.replica.applicationId},o)}(e,r,t);return m({isIntakeUrl:function(e){return r.some((function(t){return 0===e.indexOf(t)}))},replica:o,site:e.site||Et},n)}function kt(e){var t,n,r;if(e&&e.clientToken)if(void 0===e.sessionSampleRate||Ce(e.sessionSampleRate))if(void 0===e.telemetrySampleRate||Ce(e.telemetrySampleRate)){if(void 0===e.telemetryConfigurationSampleRate||Ce(e.telemetryConfigurationSampleRate))return Array.isArray(e.enableExperimentalFeatures)&&e.enableExperimentalFeatures.filter((function(e){return t=ve,n=e,Object.keys(t).some((function(e){return t[e]===n}));var t,n})).forEach((function(e){be.add(e)})),m({beforeSend:e.beforeSend&&i(e.beforeSend,\"beforeSend threw an error:\"),sessionStoreStrategyType:lt(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,batchBytesLimit:16*E,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*te,batchMessagesLimit:50,messageBytesLimit:256*E},xt(e));o.error(\"Telemetry Configuration Sample Rate should be a number between 0 and 100\")}else o.error(\"Telemetry Sample Rate should be a number between 0 and 100\");else o.error(\"Session Sample Rate should be a number between 0 and 100\");else o.error(\"Client Token is not configured, we will not send any data.\")}var Ot=\"?\";function Tt(e){var t=[],n=Ut(e,\"stack\"),r=String(e);return n&&y(n,r)&&(n=n.slice(r.length)),n&&n.split(\"\\n\").forEach((function(e){var n=function(e){var t=At.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf(\"native\"),r=t[2]&&0===t[2].indexOf(\"eval\"),o=It.exec(t[2]);r&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Ot,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=Pt.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:Ot,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=Bt.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Ot,line:+t[3],url:t[2]}}(e)||function(e){var t=Dt.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(\" > eval\")>-1,r=Nt.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(\",\"):[],column:t[5]?+t[5]:void 0,func:t[1]||Ot,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=Ot),t.push(n))})),{message:Ut(e,\"message\"),name:Ut(e,\"name\"),stack:t}}var Rt=\"((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\\\w+\\\\.|\\\\/).*?)\",Lt=\"(?::(\\\\d+))\",At=new RegExp(\"^\\\\s*at (.*?) ?\\\\(\".concat(Rt).concat(Lt,\"?\").concat(Lt,\"?\\\\)?\\\\s*$\"),\"i\"),It=new RegExp(\"\\\\((\\\\S*)\".concat(Lt).concat(Lt,\"\\\\)\"));var Pt=new RegExp(\"^\\\\s*at ?\".concat(Rt).concat(Lt,\"?\").concat(Lt,\"??\\\\s*$\"),\"i\");var Bt=/^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;var Dt=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i,Nt=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;function Ut(e,t){if(\"object\"==typeof e&&e&&t in e){var n=e[t];return\"string\"==typeof n?n:void 0}}function Mt(e,t,n,r){var o=[{url:t,column:r,line:n}],i=function(e){var t,n,r;\"[object String]\"==={}.toString.call(e)&&(n=(t=qt.exec(e))[1],r=t[2]);return{name:n,message:r}}(e);return{name:i.name,message:i.message,stack:o}}var qt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\\s\\S]*)$/;var jt=\"No stack, consider using an instance of Error\";function Ht(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,a=e.source,s=e.handling,u=n instanceof Error,c=function(e,t,n,r){return(null==e?void 0:e.message)&&(null==e?void 0:e.name)?e.message:t?\"Empty message\":\"\".concat(n,\" \").concat(A(Y(r)))}(t,u,i,n),f=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(u,t)?Ft(t):jt,l=u?function(e,t){var n=e,r=[];for(;(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var o=Tt(n.cause);r.push({message:n.cause.message,source:t,type:null==o?void 0:o.name,stack:o&&Ft(o)}),n=n.cause}return r.length?r:void 0}(n,a):void 0;return{startClocks:o,source:a,handling:s,handlingStack:r,originalError:n,type:null==t?void 0:t.name,message:c,stack:f,causes:l,fingerprint:Gt(n)}}function Gt(e){return e instanceof Error&&\"dd_fingerprint\"in e?String(e.dd_fingerprint):void 0}function Ft(e){var t=Vt(e);return e.stack.forEach((function(e){var n=\"?\"===e.func?\"<anonymous>\":e.func,r=e.args&&e.args.length>0?\"(\".concat(e.args.join(\", \"),\")\"):\"\",o=e.line?\":\".concat(e.line):\"\",i=e.line&&e.column?\":\".concat(e.column):\"\";t+=\"\\n  at \".concat(n).concat(r,\" @ \").concat(e.url).concat(o).concat(i)})),t}function Vt(e){return\"\".concat(e.name||\"Error\",\": \").concat(e.message)}var zt={intervention:\"intervention\",deprecation:\"deprecation\",cspViolation:\"csp_violation\"};function Yt(e,t){var n=[];v(t,zt.cspViolation)&&n.push(function(e){return new K((function(t){return de(e,document,Q.SECURITY_POLICY_VIOLATION,(function(e){t.notify(function(e){var t=zt.cspViolation,n=\"'\".concat(e.blockedURI,\"' blocked by '\").concat(e.effectiveDirective,\"' directive\");return{type:zt.cspViolation,subtype:e.effectiveDirective,message:\"\".concat(t,\": \").concat(n),stack:Wt(e.effectiveDirective,e.originalPolicy?\"\".concat(n,' of the policy \"').concat(ke(e.originalPolicy,100,\"...\"),'\"'):\"no policy\",e.sourceFile,e.lineNumber,e.columnNumber),originalReport:e}}(e))})).stop}))}(e));var r=t.filter((function(e){return e!==zt.cspViolation}));return r.length&&n.push(function(e){return new K((function(t){if(window.ReportingObserver){var n=l((function(e,n){return e.forEach((function(e){t.notify(function(e){var t=e.type,n=e.body;return{type:t,subtype:n.id,message:\"\".concat(t,\": \").concat(n.message),originalReport:e,stack:Wt(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),Z.apply(void 0,n)}function Wt(e,t,n,r,o){return n?Ft({name:e,message:t,stack:[{func:\"?\",url:n,line:null!=r?r:void 0,column:null!=o?o:void 0}]}):void 0}var Jt=32*E;function Kt(e,t,n){return void 0===e?[]:\"all\"===e||Array.isArray(e)&&e.every((function(e){return v(t,e)}))?\"all\"===e?t:(r=e,i=new Set,r.forEach((function(e){return i.add(e)})),g(i)):void o.error(\"\".concat(n,' should be \"all\" or an array with allowed values \"').concat(t.join('\", \"'),'\"'));var r,i}var Zt={AGENT:\"agent\",CONSOLE:\"console\",CUSTOM:\"custom\",LOGGER:\"logger\",NETWORK:\"network\",SOURCE:\"source\",REPORT:\"report\"},$t=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Xt={debug:\"debug\",error:\"error\",info:\"info\",warn:\"warn\"},Qt={console:\"console\",http:\"http\",silent:\"silent\"},en=Object.keys(Xt),tn=function(){function e(e,t,n,r,o,i){void 0===r&&(r=Qt.http),void 0===o&&(o=Xt.debug),void 0===i&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=o,this.contextManager=$(t),this.contextManager.setContext(i),n&&this.contextManager.setContextProperty(\"logger\",{name:n})}return e.prototype.log=function(e,t,n,r){var o;if(void 0===n&&(n=Xt.info),null!=r){var i=Ht({stackTrace:r instanceof Error?Tt(r):void 0,originalError:r,nonErrorPrefix:\"Provided\",source:Zt.LOGGER,handling:\"handled\",startClocks:se()});o={stack:i.stack,kind:i.type,message:i.message}}var a=Y(t),s=o?G({error:o},a):a;this.handleLogStrategy({message:Y(e),context:s,status:n},this)},e.prototype.debug=function(e,t,n){this.log(e,t,Xt.debug,n)},e.prototype.info=function(e,t,n){this.log(e,t,Xt.info,n)},e.prototype.warn=function(e,t,n){this.log(e,t,Xt.warn,n)},e.prototype.error=function(e,t,n){this.log(e,t,Xt.error,n)},e.prototype.setContext=function(e){this.contextManager.setContext(e)},e.prototype.getContext=function(){return this.contextManager.getContext()},e.prototype.setContextProperty=function(e,t){this.contextManager.setContextProperty(e,t)},e.prototype.removeContextProperty=function(e){this.contextManager.removeContextProperty(e)},e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},$t([f],e.prototype,\"log\",null),e}();var nn=\"logs\";function rn(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}var on={HIDDEN:\"visibility_hidden\",UNLOADING:\"before_unload\",PAGEHIDE:\"page_hide\",FROZEN:\"page_frozen\"};var an=\"datadog-synthetics-public-id\",sn=\"datadog-synthetics-result-id\",un=\"datadog-synthetics-injects-rum\";function cn(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||De(un))}function fn(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||De(sn);return\"string\"==typeof e?e:void 0}var ln=1/0,dn=ne,pn=function(){function e(e,t){var n=this;this.expireDelay=e,this.maxEntries=t,this.entries=[],this.clearOldValuesInterval=O((function(){return n.clearOldValues()}),dn)}return e.prototype.add=function(e,t){var n=this,r={value:e,startTime:t,endTime:ln,remove:function(){var e=n.entries.indexOf(r);e>=0&&n.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=ln);for(var t=0,n=this.entries;t<n.length;t++){var r=n[t];if(r.startTime<=e){if(e<=r.endTime)return r.value;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===ln&&t.close(e)},e.prototype.findAll=function(e,t){void 0===e&&(e=ln),void 0===t&&(t=0);var n=ue(e,t);return this.entries.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){T(this.clearOldValuesInterval)},e.prototype.clearOldValues=function(){for(var e=ae()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),vn=ne,gn=Le,hn=[];function yn(e,t,n){var r=dt(e.sessionStoreStrategyType,t,n);hn.push((function(){return r.stop()}));var o=new pn(gn);function i(){return{id:r.getSession().id,trackingType:r.getSession()[t]}}return hn.push((function(){return o.stop()})),r.renewObservable.subscribe((function(){o.add(i(),ae())})),r.expireObservable.subscribe((function(){o.closeActive(ae())})),r.expandOrRenewSession(),o.add(i(),[0,ce()][0]),function(e,t){var n=pe(e,window,[Q.CLICK,Q.TOUCH_START,Q.KEY_DOWN,Q.SCROLL],t,{capture:!0,passive:!0}).stop;hn.push(n)}(e,(function(){return r.expandOrRenewSession()})),function(e,t){var n=function(){\"visible\"===document.visibilityState&&t()},r=de(e,document,Q.VISIBILITY_CHANGE,n).stop;hn.push(r);var o=O(n,vn);hn.push((function(){T(o)}))}(e,(function(){return r.expandSession()})),{findActiveSession:function(e){return o.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable,expire:r.expire}}var mn=\"logs\";function bn(e){var t=yn(e,mn,(function(t){return function(e,t){var n=function(e){return\"0\"===e||\"1\"===e}(t)?t:En(e);return{trackingType:n,isTracked:\"1\"===n}}(e,t)}));return{findTrackedSession:function(e){var n=t.findActiveSession(e);return n&&\"1\"===n.trackingType?{id:n.id}:void 0},expireObservable:t.expireObservable}}function En(e){return we(e.sessionSampleRate)?\"1\":\"0\"}function Sn(){var e,t=window.navigator;return{status:t.onLine?\"connected\":\"not_connected\",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}var wn,Cn={log:\"log\",configuration:\"configuration\"},_n=[\"https://www.datadoghq-browser-agent.com\",\"https://www.datad0g-browser-agent.com\",\"https://d3uc069fcn7uxw.cloudfront.net\",\"https://d20xtzwzcl0ceb.cloudfront.net\",\"http://localhost\",\"<anonymous>\"],xn=[\"ddog-gov.com\"],kn={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function On(e,t){var n,r=new K;kn.telemetryEnabled=!v(xn,t.site)&&we(t.telemetrySampleRate),kn.telemetryConfigurationEnabled=kn.telemetryEnabled&&we(t.telemetryConfigurationSampleRate);var o={is_local_file:\"file:\"===window.location.protocol,is_worker:\"WorkerGlobalScope\"in self};return wn=function(t){if(kn.telemetryEnabled){var i=function(e,t,r){return G({type:\"telemetry\",date:ie(),service:e,version:\"5.8.0\",source:\"browser\",_dd:{format_version:2},telemetry:G(t,{runtime_env:r,connectivity:Sn()}),experimental_features:g(Se())},void 0!==n?n():{})}(e,t,o);r.notify(i),rn(\"telemetry\",i)}},a=Rn,m(kn,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){n=e},observable:r,enabled:kn.telemetryEnabled}}function Tn(t,n){p(e.debug,t,n),Ln(m({type:Cn.log,message:t,status:\"debug\"},n))}function Rn(e,t){Ln(m({type:Cn.log,status:\"error\"},function(e){if(e instanceof Error){var t=Tt(e);return{error:{kind:t.name,stack:Ft(An(t))},message:t.message}}return{error:{stack:jt},message:\"\".concat(\"Uncaught\",\" \").concat(A(e))}}(e),t))}function Ln(e){wn&&kn.sentEventCount<kn.maxEventsPerPage&&(kn.sentEventCount+=1,wn(e))}function An(e){return e.stack=e.stack.filter((function(e){return!e.url||_n.some((function(t){return y(e.url,t)}))})),e}var In=!1;function Pn(e){var t,n=window;if(cn()){var r=o(n.DD_RUM_SYNTHETICS);return r||In||(In=!0,Tn(\"Logs sent before RUM is injected by the synthetics worker\",{testId:(t=window._DATADOG_SYNTHETICS_PUBLIC_ID||De(an),\"string\"==typeof t?t:void 0),resultId:fn()})),r}return o(n.DD_RUM);function o(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}function Bn(e,t,n,r,o){var i=en.concat([\"custom\"]),a={};i.forEach((function(e){var n,r,i,s,u;a[e]=(n=e,r=t.eventRateLimiterThreshold,i=o,s=0,u=!1,{isLimitReached:function(){if(0===s&&x((function(){s=0}),ne),(s+=1)<=r||u)return u=!1,!1;if(s===r+1){u=!0;try{i({message:\"Reached max number of \".concat(n,\"s by minute: \").concat(r),source:Zt.AGENT,startClocks:se()})}finally{u=!1}}return!0}})})),n.subscribe(0,(function(o){var i,s,u=o.rawLogsEvent,c=o.messageContext,f=void 0===c?void 0:c,l=o.savedCommonContext,d=void 0===l?void 0:l,p=u.date-ce(),v=e.findTrackedSession(p);if(v){var g=d||r(),h=G({service:t.service,session_id:v.id,usr:P(g.user)?void 0:g.user,view:g.view},g.context,Pn(p),u,f);!1===(null===(i=t.beforeSend)||void 0===i?void 0:i.call(t,h))||h.origin!==Zt.AGENT&&(null!==(s=a[h.status])&&void 0!==s?s:a.custom).isLimitReached()||n.notify(1,h)}}))}var Dn,Nn={};function Un(n){var r=n.map((function(n){return Nn[n]||(Nn[n]=function(n){return new K((function(r){var o=t[n];return t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.apply(console,t);var a=function(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return d((function(){var n=Tt(t);n.stack=n.stack.slice(2),e=Ft(n)})),e}();d((function(){r.notify(function(t,n,r){var o,i,a=t.map((function(e){return function(e){if(\"string\"==typeof e)return Y(e);if(e instanceof Error)return Vt(Tt(e));return A(Y(e),void 0,2)}(e)})).join(\" \");if(n===e.error){var s=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}(t,(function(e){return e instanceof Error}));o=s?Ft(Tt(s)):void 0,i=Gt(s)}return{api:n,message:a,stack:o,handlingStack:r,fingerprint:i}}(t,n,a))}))},function(){t[n]=o}}))}(n)),Nn[n]}));return Z.apply(void 0,r)}var Mn,qn=((Dn={})[e.log]=Xt.info,Dn[e.debug]=Xt.debug,Dn[e.info]=Xt.info,Dn[e.warn]=Xt.warn,Dn[e.error]=Xt.error,Dn);var jn,Hn=((Mn={})[zt.cspViolation]=Xt.error,Mn[zt.intervention]=Xt.error,Mn[zt.deprecation]=Xt.warn,Mn);function Gn(e,t,n){var r=e[t],o=function(e,t){return function(){var n,r,o=arguments;return d(t,null,[{target:this,parameters:o,onPostCall:function(e){r=e}}]),\"function\"==typeof e&&(n=e.apply(this,o)),r&&d(r,null,[n]),n}}(r,n),i=function(){if(\"function\"==typeof o)return o.apply(this,arguments)};return e[t]=i,{stop:function(){e[t]===i?e[t]=r:o=r}}}var Fn,Vn=new WeakMap;function zn(e){return jn||(jn=function(e){return new K((function(t){var n=Gn(XMLHttpRequest.prototype,\"open\",Yn).stop,r=Gn(XMLHttpRequest.prototype,\"send\",(function(n){!function(e,t,n){var r=e.target,o=Vn.get(r);if(!o)return;var i=o;i.state=\"start\",i.startClocks=se(),i.isAborted=!1,i.xhr=r;var a=!1,s=Gn(r,\"onreadystatechange\",(function(){r.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),s(),!a){a=!0;var e,t=o;t.state=\"complete\",t.duration=(e=i.startClocks.timeStamp,ie()-e),t.status=r.status,n.notify(m({},t))}},c=de(t,r,\"loadend\",u).stop;n.notify(i)}(n,e,t)})).stop,o=Gn(XMLHttpRequest.prototype,\"abort\",Wn).stop;return function(){n(),r(),o()}}))}(e)),jn}function Yn(e){var t=e.target,n=e.parameters,r=n[0],o=n[1];Vn.set(t,{state:\"open\",method:String(r).toUpperCase(),url:pt(String(o))})}function Wn(e){var t=e.target,n=Vn.get(t);n&&(n.isAborted=!0)}function Jn(){return Fn||(Fn=new K((function(e){if(window.fetch){var t=Gn(window,\"fetch\",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,o=n[0],i=n[1],a=i&&i.method;void 0===a&&o instanceof Request&&(a=o.method);var s=void 0!==a?String(a).toUpperCase():\"GET\",u=o instanceof Request?o.url:pt(String(o)),c=se(),f={state:\"start\",init:i,input:o,method:s,startClocks:c,url:u};t.notify(f),n[0]=f.input,n[1]=f.init,r((function(e){return function(e,t,n){var r=function(t){var r=n;r.state=\"resolve\",\"stack\"in t||t instanceof Error?(r.status=0,r.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t):\"status\"in t&&(r.response=t,r.responseType=t.type,r.status=t.status,r.isAborted=!1),e.notify(r)};t.then(l(r),l(r))}(t,e,f)}))}(t,e)})).stop;return t}}))),Fn}function Kn(e){return e>=500}function Zn(e,t){if(!e.forwardErrorsToLogs)return{stop:L};var n=zn(e).subscribe((function(e){\"complete\"===e.state&&o(\"xhr\",e)})),r=Jn().subscribe((function(e){\"resolve\"===e.state&&o(\"fetch\",e)}));function o(n,r){function o(e){t.notify(0,{rawLogsEvent:{message:\"\".concat(Xn(n),\" error \").concat(r.method,\" \").concat(r.url),date:r.startClocks.timeStamp,error:{stack:e||\"Failed to load\"},http:{method:r.method,status_code:r.status,url:r.url},status:Xt.error,origin:Zt.NETWORK}})}e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&\"opaque\"!==e.responseType}(r)&&!Kn(r.status)||(\"xhr\"in r?function(e,t,n){\"string\"==typeof e.response?n($n(e.response,t)):n(e.response)}(r.xhr,e,o):r.response?function(e,t,n){var r=function(e){try{return e.clone()}catch(e){return}}(e);r&&r.body?window.TextDecoder?function(e,t,n){!function(e,t,n){var r=e.getReader(),o=[],i=0;function a(){var e,a;if(r.cancel().catch(L),n.collectStreamBody){var s;if(1===o.length)s=o[0];else{s=new Uint8Array(i);var u=0;o.forEach((function(e){s.set(e,u),u+=e.length}))}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(l((function(t){t.done?a():(n.collectStreamBody&&o.push(t.value),(i+=t.value.length)>n.bytesLimit?a():e())})),l((function(e){return t(e)})))}()}(e,(function(e,t,r){if(e)n(e);else{var o=(new TextDecoder).decode(t);r&&(o+=\"...\"),n(void 0,o)}}),{bytesLimit:t,collectStreamBody:!0})}(r.body,t.requestErrorResponseLengthLimit,(function(e,t){n(e?\"Unable to retrieve response: \".concat(e):t)})):r.text().then(l((function(e){return n($n(e,t))})),l((function(e){return n(\"Unable to retrieve response: \".concat(e))}))):n()}(r.response,e,o):r.error&&function(e,t,n){n($n(Ft(Tt(e)),t))}(r.error,e,o))}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function $n(e,t){return e.length>t.requestErrorResponseLengthLimit?\"\".concat(e.substring(0,t.requestErrorResponseLengthLimit),\"...\"):e}function Xn(e){return\"xhr\"===e?\"XHR\":\"Fetch\"}function Qn(e){var t,n=function(t,n){var r=Ht({stackTrace:t,originalError:n,startClocks:se(),nonErrorPrefix:\"Uncaught\",source:Zt.SOURCE,handling:\"unhandled\"});e.notify(r)},r=(t=n,Gn(window,\"onerror\",(function(e){var n,r=e.parameters,o=r[0],i=r[1],a=r[2],s=r[3],u=r[4];n=u instanceof Error?Tt(u):Mt(o,i,a,s),t(n,null!=u?u:o)}))).stop,o=function(e){return Gn(window,\"onunhandledrejection\",(function(t){var n=t.parameters[0].reason||\"Empty reason\",r=Tt(n);e(r,n)}))}(n).stop;return{stop:function(){r(),o()}}}var er,tr=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}(),nr=((er={})[Xt.debug]=0,er[Xt.info]=1,er[Xt.warn]=2,er[Xt.error]=3,er);function rr(e){return{handleLog:function(r,o,i,a){var s=G(o.getContext(),r.context);or(r.status,Qt.console,o)&&function(e,r){n[e.status].call(t,e.message,r)}(r,s),or(r.status,Qt.http,o)&&e.notify(0,{rawLogsEvent:{date:a||ie(),message:r.message,status:r.status,origin:Zt.LOGGER},messageContext:s,savedCommonContext:i})}}}function or(e,t,n){var r=n.getHandler(),o=Array.isArray(r)?r:[r];return nr[e]>=nr[n.getLevel()]&&v(o,t)}var ir=function(){function e(e,t,n,r){var o=this;this.encoder=e,this.request=t,this.flushController=n,this.messageBytesLimit=r,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe((function(e){return o.flush(e)}))}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.stop=function(){this.flushSubscription.unsubscribe()},e.prototype.flush=function(e){var t=h(this.upsertBuffer).join(\"\\n\");this.upsertBuffer={};var n,r=(n=e.reason,v(h(on),n)),o=r?this.request.sendOnExit:this.request.send;if(r&&this.encoder.isAsync){var i=this.encoder.finishSync();i.outputBytesCount&&o(ar(i,e));var a=[i.pendingData,t].filter(Boolean).join(\"\\n\");a&&o({data:a,bytesCount:C(a),flushReason:e.reason})}else t&&this.encoder.write(this.encoder.isEmpty?t:\"\\n\".concat(t)),this.encoder.finish((function(t){o(ar(t,e))}))},e.prototype.addOrUpdate=function(e,t){var n=A(e),r=this.encoder.estimateEncodedBytesCount(n);r>=this.messageBytesLimit?o.warn(\"Discarded a message whose size was bigger than the maximum allowed size \".concat(this.messageBytesLimit,\"KB.\")):(this.hasMessageFor(t)&&this.remove(t),this.push(n,r,t))},e.prototype.push=function(e,t,n){var r=this;this.flushController.notifyBeforeAddMessage(t),void 0!==n?(this.upsertBuffer[n]=e,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?e:\"\\n\".concat(e),(function(e){r.flushController.notifyAfterAddMessage(e-t)}))},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.encoder.estimateEncodedBytesCount(t);this.flushController.notifyAfterRemoveMessage(n)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e}();function ar(e,t){return{data:\"string\"==typeof e.output?e.output:new Blob([e.output],{type:\"text/plain\"}),bytesCount:e.outputBytesCount,encoding:e.encoding,flushReason:t.reason}}var sr=80*E,ur=32,cr=3*S,fr=ne,lr=te;function dr(e,t,n,r,o){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?vr(e,t,n,{onSuccess:function(){return gr(0,t,n,r,o)},onFailure:function(){t.queuedPayloads.enqueue(e),pr(t,n,r,o)}}):t.queuedPayloads.enqueue(e)}function pr(e,t,n,r){2===e.transportStatus&&x((function(){vr(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=lr,gr(1,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(fr,2*e.currentBackoffTime),pr(e,t,n,r)}})}),e.currentBackoffTime)}function vr(e,t,n,r){var o=r.onSuccess,i=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e){return\"opaque\"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||Kn(e.status))}(n)?(t.transportStatus=0,o()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},i())}))}function gr(e,t,n,r,o){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:\"Reached max \".concat(r,\" events size queued for upload: \").concat(cr/S,\"MiB\"),source:Zt.AGENT,startClocks:se()}),t.queueFullReported=!0);var i=t.queuedPayloads;for(t.queuedPayloads=hr();i.size()>0;)dr(i.dequeue(),t,n,r,o)}function hr(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=cr}}}function yr(e,t,n,r){var o={transportStatus:0,currentBackoffTime:lr,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=sr&&this.ongoingRequestCount<ur},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:hr(),queueFullReported:!1},i=function(r,o){return function(e,t,n,r,o){var i=function(){try{return window.Request&&\"keepalive\"in new Request(\"http://a\")}catch(e){return!1}}()&&r.bytesCount<n;if(i){var a=t.build(\"fetch\",r);fetch(a,{method:\"POST\",body:r.data,keepalive:!0,mode:\"cors\"}).then(l((function(e){return null==o?void 0:o({status:e.status,type:e.type})})),l((function(){var n=t.build(\"xhr\",r);br(e,n,r.data,o)})))}else{var s=t.build(\"xhr\",r);br(e,s,r.data,o)}}(e,t,n,r,o)};return{send:function(e){dr(e,o,i,t.trackType,r)},sendOnExit:function(r){!function(e,t,n,r){var o=!!navigator.sendBeacon&&r.bytesCount<n;if(o)try{var i=t.build(\"beacon\",r);if(navigator.sendBeacon(i,r.data))return}catch(e){!function(e){mr||(mr=!0,Rn(e))}(e)}var a=t.build(\"xhr\",r);br(e,a,r.data)}(e,t,n,r)}}}var mr=!1;function br(e,t,n,r){var o=new XMLHttpRequest;o.open(\"POST\",t,!0),n instanceof Blob&&o.setRequestHeader(\"Content-Type\",n.type),de(e,o,\"loadend\",(function(){null==r||r({status:o.status})}),{once:!0}),o.send(n)}function Er(e){var t,n=e.messagesLimit,r=e.bytesLimit,o=e.durationLimit,i=e.pageExitObservable,a=e.sessionExpireObservable,s=i.subscribe((function(e){return d(e.reason)})),u=a.subscribe((function(){return d(\"session_expire\")})),c=new K((function(){return function(){s.unsubscribe(),u.unsubscribe()}})),f=0,l=0;function d(e){if(0!==l){var t=l,n=f;l=0,f=0,p(),c.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){k(t),t=void 0}return{flushObservable:c,get messagesCount(){return l},notifyBeforeAddMessage:function(e){f+e>=r&&d(\"bytes_limit\"),l+=1,f+=e,void 0===t&&(t=x((function(){d(\"duration_limit\")}),o))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),f+=e,l>=n?d(\"messages_limit\"):f>=r&&d(\"bytes_limit\")},notifyAfterRemoveMessage:function(e){f-=e,0===(l-=1)&&p()}}}function Sr(e,t,n,r,o,i){var a=u(e,t),s=n&&u(e,n);function u(e,t){var n=t.endpoint,a=t.encoder;return new ir(a,yr(e,n,e.batchBytesLimit,r),Er({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:o,sessionExpireObservable:i}),e.messageBytesLimit)}return{flushObservable:a.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),a.add(e),s&&t&&s.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){a.upsert(e,t),s&&s.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){a.stop(),null==s||s.stop()}}}function wr(){var e=\"\",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var o=C(n);t+=o,e+=n,r&&r(o)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:\"\"};return e=\"\",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function Cr(e,t,n,r,o){var i=On(\"browser-logs-sdk\",t);i.setContextProvider((function(){var e,t,n,r,i,a;return{application:{id:null===(e=Pn())||void 0===e?void 0:e.application_id},session:{id:null===(t=o.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=Pn())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(i=Pn())||void 0===i?void 0:i.user_action)||void 0===a?void 0:a.id}}}));var a=[];if(le()){var s=fe(),u=i.observable.subscribe((function(e){return s.send(\"internal_telemetry\",e)}));a.push((function(){return u.unsubscribe()}))}else{var c=Sr(t,{endpoint:t.rumEndpointBuilder,encoder:wr()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:wr()},n,r,o.expireObservable);a.push((function(){return c.stop()}));var f=i.observable.subscribe((function(e){return c.add(e,function(e){return e.site===mt}(t))}));a.push((function(){return f.unsubscribe()}))}return function(e){kn.telemetryConfigurationEnabled&&Ln({type:Cn.configuration,configuration:e})}(function(e){var t,n={session_sample_rate:(t=e).sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:t.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents};return m({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports},n)}(e)),{telemetry:i,stop:function(){a.forEach((function(e){return e()}))}}}var _r,xr,kr,Or,Tr=function(t){var n,r,i=!1,a=U(),s=$(a.getOrCreateTracker(2)),u=$(a.getOrCreateTracker(1)),f={},d=function(){},p=new ee,g=function(e,t,n,r){void 0===n&&(n=E()),void 0===r&&(r=ie()),p.add((function(){return g(e,t,n,r)}))},y=function(){},b=new tn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.apply(void 0,e)}),a.createDetachedTracker());function E(){return function(e,t){return{view:{referrer:document.referrer,url:window.location.href},context:e.getContext(),user:t.getContext()}}(s,u)}return n={logger:b,init:l((function(n){var r;if(n){if(y=function(){return H(n)},le()&&(n=function(e){return m({},e,{clientToken:\"empty\"})}(n)),function(e){return!i||(e.silentMultipleInit||o.error(\"DD_LOGS is already initialized.\"),!1)}(n)){var a=function(t){var n=kt(t),r=Kt(t.forwardConsoleLogs,h(e),\"Forward Console Logs\"),o=Kt(t.forwardReports,h(zt),\"Forward Reports\");if(n&&r&&o)return t.forwardErrorsToLogs&&!v(r,e.error)&&r.push(e.error),m({forwardErrorsToLogs:!1!==t.forwardErrorsToLogs,forwardConsoleLogs:r,forwardReports:o,requestErrorResponseLengthLimit:Jt},n)}(n);a&&(n.storeContextsAcrossPages&&(ye(a,s,nn,2),ye(a,u,nn,1)),r=t(n,a,E),g=r.handleLog,d=r.getInternalContext,p.drain(),i=!0)}}else o.error(\"Missing configuration\")})),getGlobalContext:l((function(){return s.getContext()})),setGlobalContext:l((function(e){return s.setContext(e)})),setGlobalContextProperty:l((function(e,t){return s.setContextProperty(e,t)})),removeGlobalContextProperty:l((function(e){return s.removeContextProperty(e)})),clearGlobalContext:l((function(){return s.clearContext()})),createLogger:l((function(e,t){return void 0===t&&(t={}),f[e]=new tn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.apply(void 0,e)}),a.createDetachedTracker(),Y(e),t.handler,t.level,Y(t.context)),f[e]})),getLogger:l((function(e){return f[e]})),getInitConfiguration:l((function(){return y()})),getInternalContext:l((function(e){return d(e)})),setUser:l((function(e){(function(e){var t=\"object\"===q(e);return t||o.error(\"Unsupported user:\",e),t})(e)&&u.setContext(me(e))})),getUser:l((function(){return u.getContext()})),setUserProperty:l((function(e,t){var n,r=me((n={},n[e]=t,n))[e];u.setContextProperty(e,r)})),removeUserProperty:l((function(e){return u.removeContextProperty(e)})),clearUser:l((function(){return u.clearContext()}))},r=m({version:\"5.8.0\",onReady:function(e){e()}},n),Object.defineProperty(r,\"_setDebug\",{get:function(){return c},enumerable:!1}),r}((function(t,n,r){var o=new tr,i=[];o.subscribe(1,(function(e){return rn(\"logs\",e)}));var a=function(e){return function(t){e.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,origin:Zt.AGENT,status:Xt.error}}),Tn(\"Error reported to customer\",{\"error.message\":t.message})}}(o),s=function(e){return new K((function(t){var n=Ee(ve.PAGEHIDE),r=pe(e,window,[Q.VISIBILITY_CHANGE,Q.FREEZE,Q.PAGE_HIDE],(function(e){e.type===Q.PAGE_HIDE&&n?t.notify({reason:on.PAGEHIDE}):e.type===Q.VISIBILITY_CHANGE&&\"hidden\"===document.visibilityState?t.notify({reason:on.HIDDEN}):e.type===Q.FREEZE&&t.notify({reason:on.FROZEN})}),{capture:!0}).stop,o=L;return n||(o=de(e,window,Q.BEFORE_UNLOAD,(function(){t.notify({reason:on.UNLOADING})})).stop),function(){r(),o()}}))}(n),u=!n.sessionStoreStrategyType||le()||cn()?function(e){var t=\"1\"===En(e)?{}:void 0;return{findTrackedSession:function(){return t},expireObservable:new K}}(n):bn(n),c=Cr(t,n,a,s,u).stop;i.push((function(){return c()})),Zn(n,o),function(e,t){if(!e.forwardErrorsToLogs)return{stop:L};var n=new K,r=Qn(n).stop,o=n.subscribe((function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{kind:e.type,stack:e.stack},origin:Zt.SOURCE,status:Xt.error}})}))}(n,o),function(t,n){var r=Un(t.forwardConsoleLogs).subscribe((function(t){n.notify(0,{rawLogsEvent:{date:ie(),message:t.message,origin:Zt.CONSOLE,error:t.api===e.error?{stack:t.stack,fingerprint:t.fingerprint}:void 0,status:qn[t.api]}})}))}(n,o),function(e,t){var n=Yt(e,e.forwardReports).subscribe((function(e){var n,r=e.message,o=Hn[e.type];o===Xt.error?n={kind:e.subtype,stack:e.stack}:e.stack&&(r+=\" Found in \".concat(function(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(e.stack))),t.notify(0,{rawLogsEvent:{date:ie(),message:r,origin:Zt.REPORT,error:n,status:o}})}))}(n,o);var f,l=rr(o).handleLog;if(Bn(u,n,o,r,a),le())!function(e){var t=fe();e.subscribe(1,(function(e){t.send(\"log\",e)}))}(o);else{var d=function(e,t,n,r,o){var i=Sr(e,{endpoint:e.logsEndpointBuilder,encoder:wr()},e.replica&&{endpoint:e.replica.logsEndpointBuilder,encoder:wr()},n,r,o.expireObservable);return t.subscribe(1,(function(e){i.add(e)})),i}(n,o,a,s,u).stop;i.push((function(){return d()}))}return{handleLog:l,getInternalContext:(f=u,{get:function(e){var t=f.findTrackedSession(e);if(t)return{session_id:t.id}}}).get,stop:function(){i.forEach((function(e){return e()}))}}}));_r=b(),kr=Tr,Or=_r[xr=\"DD_LOGS\"],_r[xr]=kr,Or&&Or.q&&Or.q.forEach((function(e){return i(e,\"onReady callback threw an error:\")()}))}();\n\n//# sourceURL=webpack://typescript-script/./node_modules/@datadog/browser-logs/bundle/datadog-logs.js?");

/***/ }),

/***/ "./api/index.ts":
/*!**********************!*\
  !*** ./api/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   healthieGQL: () => (/* binding */ healthieGQL),\n/* harmony export */   isAPIconnected: () => (/* binding */ isAPIconnected),\n/* harmony export */   waitSettingsAPIpage: () => (/* binding */ waitSettingsAPIpage)\n/* harmony export */ });\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/index */ \"./utils/index.ts\");\n/* harmony import */ var _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/timeoutHelpers */ \"./helpers/timeoutHelpers.ts\");\n/* harmony import */ var _helpers_ui_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/ui/index */ \"./helpers/ui/index.ts\");\n\n\n\nvar isStagingEnv = location.href.includes(\"securestaging\") ? true : false;\nvar healthieAPIKey = GM_getValue(isStagingEnv ? \"healthieStagingApiKey\" : \"healthieApiKey\", \"\");\nvar auth = \"Basic \".concat(healthieAPIKey);\nfunction healthieGQL(payload) {\n    var api_env = isStagingEnv ? \"staging-api\" : \"api\";\n    var response = fetch(\"https://\" + api_env + \".gethealthie.com/graphql\", {\n        method: \"POST\",\n        headers: {\n            AuthorizationSource: \"API\",\n            Authorization: auth,\n            \"content-type\": \"application/json\",\n        },\n        body: payload,\n    })\n        .then(function (res) { return res.json(); })\n        .then(function (result) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey\", result);\n        return result;\n    });\n    return response;\n}\nfunction isAPIconnected() {\n    // Check to see if the header has loaded\n    var header = document.querySelector(\".header\");\n    if (header) {\n        var voriHeaderExists = document.querySelector(\".vori-api-message\");\n        if (!voriHeaderExists) {\n            var apiMsgDiv = document.createElement(\"div\");\n            apiMsgDiv.classList.add(\"vori-api-message\");\n            apiMsgDiv.style.display = \"block\";\n            apiMsgDiv.style.position = \"relative\";\n            apiMsgDiv.style.background = \"#e3e532\";\n            apiMsgDiv.style.top = \"60px\";\n            apiMsgDiv.style.minHeight = \"42px\";\n            apiMsgDiv.style.textAlign = \"center\";\n            apiMsgDiv.style.padding = \"10px\";\n            var apiMsgLink_1 = document.createElement(\"a\");\n            apiMsgLink_1.textContent = \"You have not connected your Healthie Account to Vori Health. Set it up here!\";\n            apiMsgLink_1.href = \"/settings/api_keys\";\n            apiMsgLink_1.style.color = \"#333\";\n            apiMsgLink_1.style.fontSize = \"15px\";\n            apiMsgLink_1.style.letterSpacing = \"0.3px\";\n            apiMsgLink_1.style.textDecoration = \"none\";\n            apiMsgLink_1.addEventListener(\"mouseover\", function () { return (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_2__.addHoverEffect)(apiMsgLink_1); });\n            apiMsgLink_1.addEventListener(\"mouseout\", function () { return (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_2__.removeHoverEffect)(apiMsgLink_1); });\n            apiMsgDiv.appendChild(apiMsgLink_1);\n            if (healthieAPIKey === \"\") {\n                apiMsgDiv.style.display = \"block\";\n            }\n            else {\n                apiMsgDiv.style.display = \"none\";\n            }\n            header.insertAdjacentElement(\"afterend\", apiMsgDiv);\n        }\n    }\n    else {\n        // Wait for content load\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for header\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(isAPIconnected, 200);\n    }\n}\nfunction waitSettingsAPIpage() {\n    //check to see if the care plan tab contents has loaded\n    if (document.querySelector(\".api_keys\")) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey found api keys section\");\n        // Check if the api-keys-wrapper already exists\n        var existingWrapper = document.querySelector(\".api-keys-wrapper.vori\");\n        var newButton = void 0;\n        var newInput_1;\n        if (!existingWrapper) {\n            // Create the new elements\n            var newWrapper = document.createElement(\"div\");\n            newWrapper.classList.add(\"api-keys-wrapper\", \"vori\");\n            newWrapper.style.marginTop = \"2rem\";\n            newWrapper.style.paddingBottom = \"2rem\";\n            newWrapper.style.borderBottom = \"1px solid #e0e0e0\";\n            newWrapper.style.marginRight = \"28px\";\n            var newHeader = document.createElement(\"div\");\n            newHeader.classList.add(\"api-keys-header\");\n            newHeader.textContent = \"Connect to Vori Health\";\n            newHeader.style.height = \"44px\";\n            newHeader.style.color = \"#16284a\";\n            newHeader.style.fontFamily = '\"Avenir\",Helvetica,\"Arial\",sans-serif';\n            newHeader.style.fontWeight = \"800\";\n            newHeader.style.fontSize = \"28px\";\n            newHeader.style.lineHeight = \"34px\";\n            newHeader.style.letterSpacing = \"-.02em\";\n            var inputButtonWrapper = document.createElement(\"div\");\n            inputButtonWrapper.classList.add(\"api-keys-input-button-wrapper\");\n            inputButtonWrapper.style.display = \"flex\";\n            inputButtonWrapper.style.justifyContent = \"space-between\";\n            inputButtonWrapper.style.width = \"100%\";\n            newInput_1 = document.createElement(\"input\");\n            newInput_1.setAttribute(\"type\", \"text\");\n            newInput_1.setAttribute(\"placeholder\", \"Enter your API key here\");\n            newInput_1.classList.add(\"api-key-input\");\n            newInput_1.style.height = \"38px\";\n            newInput_1.style.width = \"100%\";\n            newInput_1.style.maxWidth = \"292px\";\n            newInput_1.style.padding = \"0 14px\";\n            newInput_1.style.borderRadius = \"4px\";\n            newInput_1.style.border = \"1px solid #828282\";\n            newButton = document.createElement(\"button\");\n            newButton.setAttribute(\"type\", \"button\");\n            newButton.textContent = \"Link API key\";\n            newButton.style.backgroundColor = \"#4a90e2\";\n            newButton.style.color = \"#fff\";\n            newButton.style.border = \"1px solid #4a90e2\";\n            newButton.style.padding = \"8px 10px\";\n            newButton.style.fontFamily = '\"Avenir\",Helvetica,\"Arial\",sans-serif';\n            newButton.style.fontSize = \"14px\";\n            newButton.style.lineHeight = \"20px\";\n            newButton.style.width = \"200px\";\n            newButton.style.borderRadius = \"3px\";\n            newButton.style.cursor = \"pointer\";\n            // Append the new elements to the existing container\n            var mainContainer = document.querySelector(\".main-settings__container\");\n            if (mainContainer) {\n                mainContainer.appendChild(newWrapper);\n            }\n            else {\n                console.error(\"Main container not found\");\n                // Handle the error case appropriately\n            }\n            // Append the new elements to the new wrapper\n            newWrapper.appendChild(newHeader);\n            newWrapper.appendChild(inputButtonWrapper);\n            inputButtonWrapper.appendChild(newInput_1);\n            inputButtonWrapper.appendChild(newButton);\n        }\n        else {\n            newButton = existingWrapper.querySelector(\"button\");\n            newInput_1 = existingWrapper.querySelector(\"input\");\n        }\n        var storedApiKey = GM_getValue(isStagingEnv ? \"healthieStagingApiKey\" : \"healthieApiKey\", \"\"); // Retrieve the stored API key using GM_getValue\n        if (storedApiKey === \"\") {\n            newInput_1.value = storedApiKey; // Set the initial value of the input\n        }\n        else {\n            newInput_1.value = \"***************\"; // show mask indicating that a valid key is stored\n        }\n        // Add onclick handler to the \"Link Api key\" button\n        newButton.onclick = function () {\n            var apiKey = newInput_1.value.trim(); // Trim whitespace from the input value\n            if (apiKey === \"\") {\n                alert(\"Please enter a valid API key!\");\n            }\n            else {\n                var patientNumber = location.href.split(\"/\")[location.href.split(\"/\").length - 2];\n                healthieAPIKey = apiKey;\n                auth = \"Basic \".concat(healthieAPIKey);\n                // let's check that we can get goals successfully\n                var getGoalQuery = \"query {\\n            goals {\\n              id\\n              name\\n            }\\n          }\\n          \";\n                var getGoalPayload = JSON.stringify({ query: getGoalQuery });\n                healthieGQL(getGoalPayload).then(function (response) {\n                    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey api key goals response: \".concat(JSON.stringify(response)));\n                    if (response.errors) {\n                        alert(\"That is not a valid API key. Please verify the key and try again.\");\n                    }\n                    else {\n                        GM_setValue(isStagingEnv ? \"healthieStagingApiKey\" : \"healthieApiKey\", apiKey);\n                        alert(\"API key saved successfully!\");\n                        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n                            window.location.reload();\n                        }, 2000);\n                        window.location.reload();\n                    }\n                });\n            }\n        };\n    }\n    else {\n        //wait for content load\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for api keys section\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitSettingsAPIpage, 200);\n    }\n}\n\n\n\n//# sourceURL=webpack://typescript-script/./api/index.ts?");

/***/ }),

/***/ "./helpers/calendar/index.ts":
/*!***********************************!*\
  !*** ./helpers/calendar/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initCalendar: () => (/* binding */ initCalendar),\n/* harmony export */   initCalendarHeaderBtns: () => (/* binding */ initCalendarHeaderBtns),\n/* harmony export */   initSidebarCalendar: () => (/* binding */ initSidebarCalendar),\n/* harmony export */   setAppointmentCollapse: () => (/* binding */ setAppointmentCollapse),\n/* harmony export */   showBothCalendars: () => (/* binding */ showBothCalendars),\n/* harmony export */   waitCalendar: () => (/* binding */ waitCalendar)\n/* harmony export */ });\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/index */ \"./utils/index.ts\");\n/* harmony import */ var _init_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../init/index */ \"./init/index.ts\");\n/* harmony import */ var _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/timeoutHelpers */ \"./helpers/timeoutHelpers.ts\");\n/* harmony import */ var _helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../helpers/ui/index */ \"./helpers/ui/index.ts\");\n\n\n\n\nvar maxWaitForEvents = 500; // comically high number to prevent infinite loop\nvar maxWaitForInit = 500; // comically high number to prevent infinite loop\nvar maxWaitForCalendarLoad = 1500; // comically high number to prevent infinite loop\nvar initCalTimeout = null;\nvar copyComplete = -1;\nvar delayedRun = 0;\nvar debug = false;\nvar routeURLs = {\n    schedule: \"schedule\",\n    careplan: \"careplan\",\n    goals: \"app/schedule\",\n    appointment: \"appointment\",\n    appointments: \"appointments\",\n    patientStatus: \"patientStatusStandalone\",\n    providerSchedule: \"provider-schedule\",\n    otpVerify: \"otpVerifyStandalone\",\n    createPatientDialog: \"createPatientDialog\",\n};\nvar styles = {\n    scheduleOverlay: {\n        display: \"inline-block\",\n        background: \"rgb(255, 255, 255)\",\n        maxWidth: \"90vw\", // fallback for browsers that don't support svw\n        width: \"100vw\",\n        height: \"90vh\", // fallback for browsers that don't support svh\n        overflow: \"hidden\",\n    },\n    patientDialogOverlay: {\n        display: \"inline-block\",\n        background: \"rgb(255, 255, 255)\",\n        maxWidth: \"30vw\", // fallback for browsers that don't support svw\n        width: \"30vw\",\n        height: \"80vh\", // fallback for browsers that don't support svh\n        overflow: \"hidden\",\n    },\n    appointmentDetailsOverlay: {\n        height: \"350px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n    },\n    otpOverlay: {\n        width: \"500px\",\n        height: \"500px\",\n    },\n};\nfunction initCalendar(replaceCalendar) {\n    var $ = (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery)();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey jQuery not loaded\");\n        initCalTimeout = (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () {\n            initCalendar(replaceCalendar);\n        }, 200);\n        return;\n    }\n    else {\n        if (initCalTimeout !== null) {\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.clearMyTimeout)(initCalTimeout);\n        }\n        // clear jquery timeout\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey initializing calendar. maxWait: [\".concat(maxWaitForInit, \", \").concat(maxWaitForCalendarLoad, \"], delayedRun: \").concat(delayedRun, \", replaceCalendar: \").concat(replaceCalendar));\n        maxWaitForInit--;\n        maxWaitForCalendarLoad--;\n        if (maxWaitForInit < 0 || maxWaitForCalendarLoad < 0) {\n            window.location.reload();\n            return;\n        }\n        maxWaitForInit = 500;\n        var calendar = null;\n        var calendarHeaderBtns = $(\".rbc-btn-group\");\n        var activeBtn = calendarHeaderBtns.find(\".rbc-active\");\n        var activeTab = $(\".calendar-tabs\").find(\".tab-item.active\");\n        var calendarTab = activeTab && activeTab.text().toLowerCase().includes(\"calendar\");\n        var availabilitiesTab = activeTab && activeTab.text().toLowerCase().includes(\"availability\");\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey copyComplete\", copyComplete);\n        // Check if we're on availabilities tab, or if  calendar is loaded and cloned\n        if (availabilitiesTab ||\n            (!replaceCalendar && $(\".main-calendar-column\").find(\".cloned-calendar\").length > 0) ||\n            copyComplete > 500 ||\n            copyComplete < 0) {\n            return;\n        }\n        if (replaceCalendar) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey force re-init calendar\");\n            $(\".cloned-calendar\").remove(); // remove all instances of existing cloned calendar\n        }\n        // First overlay a transparent div on top of the calendar until cloning is done\n        var overlay = $(\"<div>\").addClass(\"overlay-vori\").css({\n            position: \"absolute\",\n            display: \"block\",\n            inset: \"0px\",\n            zIndex: \"9999999\",\n            background: \"ffffff00\",\n            backdropFilter: \"blur(5px)\",\n            pointerEvents: \"none\",\n            userSelect: \"none\",\n        });\n        // First init add button to make sure event gets overwritten\n        (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initAddButton)();\n        initCalendarHeaderBtns();\n        // check if calendar is loading\n        var calendarLoading = $(\".day-view.is-loading, .week-view.is-loading, .month-view.is-loading\");\n        if (calendarLoading.length > 0) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey waiting for calendar to load\");\n            if ($(\".main-calendar-column\").find(\".overlay-vori\").length > 0) {\n                $(\".main-calendar-column\").css({ position: \"relative\" }).append(overlay);\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey added overlay to calendar\");\n            }\n            initCalTimeout = (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () {\n                initCalendar(replaceCalendar);\n            }, 1000);\n            return;\n        }\n        else {\n            maxWaitForCalendarLoad = 1500;\n            $(\".overlay-vori\").remove();\n        }\n        // wait 1 second then proceed to clone calendar\n        delayedRun++;\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () {\n            initCalendar(replaceCalendar);\n            copyComplete++;\n        }, 1000);\n        var cssRules = \"\\n           .rbc-calendar {\\n             position: relative;\\n           }\\n           .cloned-calendar {\\n             position: absolute;\\n             top: 64px;\\n             width: 100.8%;\\n             background: #fff;\\n           }\\n           .cloned-calendar.rbc-month-view {\\n             top: 60px;\\n           }\\n         \";\n        var cssRuleToCheck_1 = \".cloned-calendar\";\n        var styleElementExists = $(\"style\").filter(function () {\n            return $(this).text().indexOf(cssRuleToCheck_1) !== -1;\n        }).length > 0;\n        if (!styleElementExists) {\n            var styleElement = document.createElement(\"style\");\n            styleElement.appendChild(document.createTextNode(cssRules));\n            $(\"head\").append(styleElement);\n        }\n        if (calendarTab) {\n            initSidebarCalendar();\n            if (activeBtn && (activeBtn.text().toLowerCase().includes(\"day\") || activeBtn.text().toLowerCase().includes(\"week\")) && copyComplete > 0) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey calendar is on day or week view\");\n                calendar = $(\".rbc-time-content\");\n                var ogCalendar = calendar && calendar.first().addClass(\"og-calendar\");\n                var clonedCalendar = ogCalendar.clone(true);\n                clonedCalendar.addClass(\"cloned-calendar\").removeClass(\"og-calendar\").removeAttr(\"style\");\n                // debug mode - set to True for quick debugging\n                debug && showBothCalendars(clonedCalendar, ogCalendar);\n                // instead of replacing the original calendar, we'll hide it, and append the cloned calendar\n                !debug &&\n                    ogCalendar.css({\n                        display: \"none\",\n                        position: \"absolute\",\n                        transform: \"translateX(68%)\",\n                    });\n                ogCalendar.parent().append(clonedCalendar);\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey hid original calendar and appended cloned calendar - day/week view\");\n            }\n            else if (activeBtn && activeBtn.text().toLowerCase().includes(\"month\") && copyComplete > 0) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey calendar is on month view\");\n                calendar = $(\".rbc-month-view\");\n                var ogCalendar = calendar && calendar.first().addClass(\"og-calendar\");\n                if (ogCalendar.length > 0) {\n                    var clonedCalendar = ogCalendar.clone(true);\n                    var monthView = clonedCalendar[0].childNodes;\n                    var children = Array.from(monthView);\n                    children.forEach(function (child) {\n                        // Check if the child is an HTMLElement before cloning\n                        if (child instanceof HTMLElement) {\n                            // Clone the HTMLElement\n                            var clone = $(child).clone();\n                            clone.addClass(\"cloned\");\n                            $(child).replaceWith(clone);\n                        }\n                    });\n                    clonedCalendar.addClass(\"cloned-calendar\").removeClass(\"og-calendar\").removeAttr(\"style\");\n                    debug && showBothCalendars(clonedCalendar, ogCalendar);\n                    !debug &&\n                        ogCalendar.css({\n                            display: \"none\",\n                            position: \"absolute\",\n                            transform: \"translateX(68%)\",\n                        });\n                    ogCalendar.parent().append(clonedCalendar);\n                    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey hid original calendar and appended cloned calendar - day/week view\");\n                }\n            }\n        }\n        if (calendar) {\n            maxWaitForEvents = 500;\n            // Event listeners\n            $(\".rbc-time-slot, .rbc-day-bg\").on(\"click\", function (e) {\n                e.stopPropagation();\n                (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.schedule), styles.scheduleOverlay);\n            });\n            $(\".rbc-event.calendar-event\").on(\"click\", function (e) {\n                e.stopPropagation();\n                var dataForValue = $(this).attr(\"data-for\");\n                if (dataForValue) {\n                    var apptUuid = dataForValue.split(\"__\")[1].split(\"_\")[0];\n                    //appointment/appointment id\n                    (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.appointment, \"/\").concat(apptUuid), styles.appointmentDetailsOverlay);\n                }\n            });\n            $(\".cloned-calendar\") && (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey calendar cloned\");\n            copyComplete = -1;\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"reset copy complete in initCalendar after cloning\", copyComplete);\n            var clonedCalendar = $(\".cloned-calendar\");\n            if (clonedCalendar && initCalTimeout !== null) {\n                (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.clearMyTimeout)(initCalTimeout);\n            }\n            $(\".overlay-vori\").remove();\n        }\n        else {\n            maxWaitForEvents--;\n            if (maxWaitForEvents === 0) {\n                window.location.reload();\n            }\n            else {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey waiting for calendar and events\");\n                (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () {\n                    initCalendar(replaceCalendar);\n                }, 1000);\n            }\n        }\n    }\n}\nfunction initCalendarHeaderBtns() {\n    var $ = (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery)();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jquery to load\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () {\n            (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"dummy-url\", {}); // To do\n        }, 200);\n        return;\n    }\n    else {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey calendar initializing today, prev, next buttons\");\n        var activeTab = $(\".calendar-tabs\").find(\".tab-item.active\");\n        var availabilitiesTab = activeTab && activeTab.text().toLowerCase().includes(\"availability\");\n        if (availabilitiesTab) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey calendar is on availability tab - nothing to do here\");\n            return;\n        }\n        var dayBtn = $(\".rbc-btn-group\").find(\"button:contains('day')\")[0];\n        var weekBtn = $(\".rbc-btn-group\").find(\"button:contains('week')\")[0];\n        var monthBtn = $(\".rbc-btn-group\").find(\"button:contains('month')\")[0];\n        var todayBtn = $(\".rbc-btn-group\").find(\"button:contains('today')\")[0];\n        var prevBtn = $(\".rbc-btn-group\").find(\"button:contains('<')\")[0];\n        var nextBtn = $(\".rbc-btn-group\").find(\"button:contains('>')\")[0];\n        if (dayBtn && weekBtn && monthBtn) {\n            //add event listeners\n            $(dayBtn).on(\"click\", function (e) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey - clicked on day. Removing cloned calendar...\");\n                setTimeout(function () {\n                    $(\".rbc-month-view\").remove();\n                }, 1000);\n            });\n            $(weekBtn).on(\"click\", function (e) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey - clicked on week. Removing cloned calendar...\");\n                setTimeout(function () {\n                    $(\".rbc-month-view\").remove();\n                }, 1000);\n            });\n            $(monthBtn).on(\"click\", function (e) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey - clicked on month. Removing cloned calendar...\");\n                setTimeout(function () {\n                    $(\".rbc-time-content\").remove();\n                }, 1000);\n            });\n        }\n        if (todayBtn && prevBtn && nextBtn) {\n            //add event listeners\n            $(todayBtn).on(\"click\", function (e) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey - clicked on today. Re-initializing calendar...\");\n                copyComplete = 1;\n                initCalendar(true);\n            });\n            $(prevBtn).on(\"click\", function (e) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey - clicked on prev. Re-initializing calendar...\");\n                copyComplete = 1;\n                initCalendar(true);\n            });\n            $(nextBtn).on(\"click\", function (e) {\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey - clicked on next. Re-initializing calendar...\");\n                copyComplete = 1;\n                initCalendar(true);\n            });\n        }\n        else {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for add today, <, > button\");\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(initCalendarHeaderBtns, 200);\n        }\n    }\n}\nfunction showBothCalendars(clonedCalendar, ogCalendar) {\n    clonedCalendar.css({\n        position: \"absolute\",\n        transform: \"translate(-46%, 35px)\",\n        left: \"0px\",\n        width: \"67%\",\n        maxWidth: \"750px\",\n        background: \"rgb(255, 255, 255)\",\n    });\n    var cssRules = \"\\n           .rbc-time-content>.rbc-time-gutter {\\n             display: none;\\n           }\\n           #big-calendar-container-id > div > div.rbc-time-view > div.rbc-time-content.cloned-calendar > div:nth-child(2),\\n           #big-calendar-container-id > div > div.rbc-time-view > div.rbc-time-content.cloned-calendar > div:nth-child(8),\\n           #big-calendar-container-id > div > div.rbc-time-view > div.rbc-time-content.og-calendar > div:nth-child(2),\\n           #big-calendar-container-id > div > div.rbc-time-view > div.rbc-time-content.og-calendar > div:nth-child(8) {\\n             display: none;\\n           }\\n           .rbc-time-content.cloned-calendar::before,\\n           .rbc-month-view.cloned-calendar::before {\\n             content: \\\"Clone\\\";\\n             position: absolute;\\n             top: 0px;\\n             background: #4caf50d1;\\n             font-size: 40px;\\n             line-height: 1.5;\\n             font-weight: bold;\\n             text-transform: uppercase;\\n             color: #000;\\n             z-index: 99999999;\\n           }\\n         \";\n    var cssRuleToCheck = \".rbc-time-content.cloned-calendar::before\";\n    var styleElementExists = $(\"style\").filter(function () {\n        return $(this).text().indexOf(cssRuleToCheck) !== -1;\n    }).length > 0;\n    if (!styleElementExists) {\n        var styleElement = document.createElement(\"style\");\n        styleElement.appendChild(document.createTextNode(cssRules));\n        $(\"head\").append(styleElement);\n    }\n    ogCalendar.css({\n        position: \"absolute\",\n        transform: \"translate(54%, 35px)\",\n        border: \"4px solid rgb(255, 92, 92)\",\n        zIndex: \"9\",\n        width: \"63%\",\n        background: \"#fff\",\n    });\n    cssRules = \"\\n           .rbc-time-content.og-calendar::before,\\n           .rbc-month-view.og-calendar::before {\\n             content: \\\"Original\\\";\\n             position: absolute;\\n             top: 0px;\\n             background: #ff3232d1;\\n             font-size: 40px;\\n             line-height: 1.5;\\n             font-weight: bold;\\n             text-transform: uppercase;\\n             color: #000;\\n             z-index: 99999999;\\n           }\\n         \";\n    cssRuleToCheck = \".rbc-time-content.og-calendar::before\";\n    styleElementExists =\n        $(\"style\").filter(function () {\n            return $(this).text().indexOf(cssRuleToCheck) !== -1;\n        }).length > 0;\n    if (!styleElementExists) {\n        var styleElement = document.createElement(\"style\");\n        styleElement.appendChild(document.createTextNode(cssRules));\n        $(\"head\").append(styleElement);\n    }\n}\nvar calendarInitialized = false;\nfunction waitCalendar() {\n    if (!calendarInitialized) {\n        initCalendar(false);\n        calendarInitialized = true;\n    }\n}\nfunction initSidebarCalendar() {\n    var ogSdbrCalendar = $(\".react-datepicker__month-container\");\n    var sidebarTimeout = null;\n    if (!ogSdbrCalendar) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey waiting for sidebar calendar\");\n        sidebarTimeout = (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(initSidebarCalendar, 200);\n        return;\n    }\n    else {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey found sidebar calendar\");\n        if (sidebarTimeout !== null) {\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.clearMyTimeout)(sidebarTimeout);\n        }\n        // create style element to disable pointer events on calendar\n        var cssRules = \"\\n           .react-datepicker__month-container {\\n             pointer-events: none;\\n             user-select: none;\\n           }\\n           .react-datepicker__navigation {\\n             pointer-events: none;\\n             user-select: none;\\n           }\\n         \";\n        var cssRuleToCheck_2 = \".react-datepicker__month-container\";\n        var styleElementExists = $(\"style\").filter(function () {\n            return $(this).text().indexOf(cssRuleToCheck_2) !== -1;\n        }).length > 0;\n        if (!styleElementExists) {\n            var styleElement = document.createElement(\"style\");\n            styleElement.appendChild(document.createTextNode(cssRules));\n            $(\"head\").append(styleElement);\n        }\n    }\n}\nfunction setAppointmentCollapse() {\n    var appointmentSectionTitle = document.querySelector('[data-testid=\"cp-section-appointments\"]');\n    if (appointmentSectionTitle) {\n        appointmentSectionTitle.addEventListener(\"click\", function () {\n            // Using the non-null assertion operator\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey clicked section title\", appointmentSectionTitle.className);\n            if (appointmentSectionTitle.className != \"cp-sidebar-expandable-section undefined opened\") {\n                (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentSidebar)();\n            }\n        }, false);\n    }\n}\n\n\n\n//# sourceURL=webpack://typescript-script/./helpers/calendar/index.ts?");

/***/ }),

/***/ "./helpers/timeoutHelpers.ts":
/*!***********************************!*\
  !*** ./helpers/timeoutHelpers.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearMyTimeout: () => (/* binding */ clearMyTimeout),\n/* harmony export */   createTimeout: () => (/* binding */ createTimeout)\n/* harmony export */ });\nvar timeoutIds = [];\nfunction createTimeout(timeoutFunction, delay) {\n    var timeoutId = window.setTimeout(function () {\n        timeoutFunction();\n        timeoutIds = timeoutIds.filter(function (id) { return id !== timeoutId; });\n    }, delay);\n    timeoutIds.push(timeoutId);\n    return timeoutId;\n}\nfunction clearMyTimeout(timeoutId) {\n    if (!timeoutId) {\n        return;\n    }\n    window.clearTimeout(timeoutId);\n    timeoutIds = timeoutIds.filter(function (id) { return id !== timeoutId; });\n}\n\n\n\n//# sourceURL=webpack://typescript-script/./helpers/timeoutHelpers.ts?");

/***/ }),

/***/ "./helpers/ui/index.ts":
/*!*****************************!*\
  !*** ./helpers/ui/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addHoverEffect: () => (/* binding */ addHoverEffect),\n/* harmony export */   createPatientDialogIframe: () => (/* binding */ createPatientDialogIframe),\n/* harmony export */   generateIframe: () => (/* binding */ generateIframe),\n/* harmony export */   hideOverlay: () => (/* binding */ hideOverlay),\n/* harmony export */   removeHoverEffect: () => (/* binding */ removeHoverEffect),\n/* harmony export */   showInstructions: () => (/* binding */ showInstructions),\n/* harmony export */   showOverlay: () => (/* binding */ showOverlay)\n/* harmony export */ });\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/index */ \"./utils/index.ts\");\n/* harmony import */ var _init_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../init/index */ \"./init/index.ts\");\n/* harmony import */ var _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/timeoutHelpers */ \"./helpers/timeoutHelpers.ts\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar isStagingEnv = location.href.includes(\"securestaging\") ? true : false;\nvar mishaURL = isStagingEnv ? \"qa.misha.vori.health/\" : \"misha.vorihealth.com/\";\nvar healthieAPIKey = GM_getValue(isStagingEnv ? \"healthieStagingApiKey\" : \"healthieApiKey\", \"\");\nvar routeURLs = {\n    schedule: \"schedule\",\n    careplan: \"careplan\",\n    goals: \"app/schedule\",\n    appointment: \"appointment\",\n    appointments: \"appointments\",\n    patientStatus: \"patientStatusStandalone\",\n    providerSchedule: \"provider-schedule\",\n    otpVerify: \"otpVerifyStandalone\",\n    createPatientDialog: \"createPatientDialog\",\n};\nvar styles = {\n    scheduleOverlay: {\n        display: \"inline-block\",\n        background: \"rgb(255, 255, 255)\",\n        maxWidth: \"90vw\", // fallback for browsers that don't support svw\n        width: \"100vw\",\n        height: \"90vh\", // fallback for browsers that don't support svh\n        overflow: \"hidden\",\n    },\n    patientDialogOverlay: {\n        display: \"inline-block\",\n        background: \"rgb(255, 255, 255)\",\n        maxWidth: \"30vw\", // fallback for browsers that don't support svw\n        width: \"30vw\",\n        height: \"80vh\", // fallback for browsers that don't support svh\n        overflow: \"hidden\",\n    },\n    appointmentDetailsOverlay: {\n        height: \"350px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n    },\n    otpOverlay: {\n        width: \"500px\",\n        height: \"500px\",\n    },\n};\nfunction addHoverEffect(apiMsgLink) {\n    apiMsgLink.style.textDecoration = \"underline\";\n}\nfunction removeHoverEffect(apiMsgLink) {\n    apiMsgLink.style.textDecoration = \"none\";\n}\nfunction showOverlay(url, style) {\n    if (style === void 0) { style = {}; }\n    var $ = (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery)();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jquery to load\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () { return showOverlay(url, style); }, 200);\n        return;\n    }\n    else {\n        hideOverlay();\n        // Create overlay element\n        var overlay = $(\"<div>\").addClass(\"overlay-dialog\").css({\n            position: \"fixed\",\n            inset: \"0\",\n            zIndex: \"999\",\n            background: \"#000000d9\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            placeContent: \"center\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n        });\n        $(overlay).on(\"click\", function () {\n            if ($(\".overlay-dialog\")) {\n                $(\".overlay-dialog\").remove();\n            }\n        });\n        // Create close button element\n        var closeButton = $(\"<span>\").addClass(\"close-button\").html(\"&times;\").css({\n            position: \"absolute\",\n            right: \"1rem\",\n            top: \"1rem\",\n            color: \"#fff\",\n            fontSize: \"2.5rem\",\n            cursor: \"pointer\",\n        });\n        $(closeButton).on(\"click\", function () {\n            if ($(\".overlay-dialog\")) {\n                $(\".overlay-dialog\").remove();\n            }\n        });\n        overlay.append(closeButton);\n        // Create dialog body element with iframe\n        var dialogBody = $(\"<div>\")\n            .addClass(\"dialog-body\")\n            .css(__assign({ background: \"#fff\", maxWidth: \"max(600px, 60vw)\", width: \"100vw\", height: \"80vh\", maxheight: \"80dvh\", overflowY: \"scroll\" }, style));\n        var iframe = generateIframe(url, style);\n        dialogBody.append(iframe); // Append iframe to dialog body\n        overlay.append(dialogBody); // Append dialog body to overlay\n        var existingOverlay = $(\".body\").find(\".overlay-dialog\");\n        if (existingOverlay.length === 0) {\n            $(\"body\").append(overlay); // Append overlay to body\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey displayed overlay\");\n        }\n    }\n}\nfunction hideOverlay() {\n    var $ = (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery)();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jquery to load\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(hideOverlay, 200);\n        return;\n    }\n    else {\n        $(\".overlay-dialog\").remove();\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey removed overlay\");\n    }\n}\nfunction createPatientDialogIframe() {\n    var $ = (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery)();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jQuery to load\");\n        setTimeout(createPatientDialogIframe, 200);\n        return;\n    }\n    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"jQuery is loaded, attempting to find 'Add Client' button\");\n    var addPatientBtn = $(\".add-client-container button:contains('Add Client')\");\n    if (addPatientBtn.length > 0) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"'Add Client' button found, proceeding to clone\");\n        var clonedBtn = addPatientBtn.clone();\n        addPatientBtn.replaceWith(clonedBtn);\n        clonedBtn.on(\"click\", function (e) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Cloned 'Add Client' button clicked\");\n            e.stopPropagation();\n            showOverlay(\"\".concat(routeURLs.createPatientDialog), styles.patientDialogOverlay);\n        });\n    }\n    else {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"'Add Client' button not found, retrying...\");\n        setTimeout(createPatientDialogIframe, 200);\n    }\n}\nfunction generateIframe(routeURL, options) {\n    if (options === void 0) { options = {}; }\n    var $ = (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery)();\n    var className = \"misha-iframe-container\";\n    var iframeStyles = __assign({ height: options.height || \"100vh\", width: options.width || \"100%\" }, options);\n    var iframeStyleString = Object.entries(iframeStyles)\n        .map(function (_a) {\n        var property = _a[0], value = _a[1];\n        return \"\".concat((0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.convertToCSSProperty)(property), \": \").concat(value, \";\");\n    })\n        .join(\" \");\n    if (!$) {\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(function () {\n            generateIframe(routeURL);\n        }, 200);\n        return;\n    }\n    else {\n        var iframeElement = $(\"<div>\")\n            .css(__assign({ padding: \"0\" }, options))\n            .addClass(className);\n        var iframeContent = $(\"<iframe>\", {\n            id: \"MishaFrame\",\n            title: \"Misha iFrame\",\n            style: iframeStyleString,\n            src: \"https://\".concat(mishaURL).concat(routeURL),\n        });\n        iframeElement.append(iframeContent);\n        return iframeElement;\n    }\n}\nfunction showInstructions() {\n    if (document.querySelector(\".api-keys-wrapper\") && document.querySelector(\".api-keys-input-button-wrapper\")) {\n        var apiKeyInputContainer = document.querySelector(\".api-keys-input-button-wrapper\");\n        if (apiKeyInputContainer && healthieAPIKey === \"\") {\n            var instructions = document.createElement(\"p\");\n            instructions.innerHTML =\n                \"<b>Vori Health Instructions</b><br />\" +\n                    '1. Click the button below that says <i>\"Add API Key\"</i><br />' +\n                    '2. Enter a memorable name in the <i>API Key Name</i> field then click on \"Create API Key\"<br />' +\n                    \"3. The API Key should now be listed below. Copy the text under the <i>Key</i> column.<br />\" +\n                    '4. Now under the \"Connect to Vori Health\" section, paste the key in the box that says <i>Enter your API Key here</i>, and then select the \"Link Api key\" button.<br />' +\n                    '5. You should see a message saying \"API key saved successfully\"<br />';\n            instructions.classList.add(\"vori-instruction-message\");\n            instructions.style.display = \"block\";\n            instructions.style.position = \"relative\";\n            instructions.style.background = \"rgb(227 229 50 / 35%)\";\n            instructions.style.color = \"#16284a\";\n            instructions.style.minHeight = \"42px\";\n            instructions.style.padding = \"10px\";\n            instructions.style.marginTop = \"14px\";\n            apiKeyInputContainer.insertAdjacentElement(\"afterend\", instructions);\n        }\n    }\n    else {\n        //wait for content load\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting to show instructions\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_2__.createTimeout)(showInstructions, 200);\n    }\n}\n\n\n\n//# sourceURL=webpack://typescript-script/./helpers/ui/index.ts?");

/***/ }),

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addHoverEffect: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.addHoverEffect),\n/* harmony export */   clearMyTimeout: () => (/* reexport safe */ _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_5__.clearMyTimeout),\n/* harmony export */   convertToCSSProperty: () => (/* reexport safe */ _utils_index__WEBPACK_IMPORTED_MODULE_2__.convertToCSSProperty),\n/* harmony export */   createPatientDialogIframe: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.createPatientDialogIframe),\n/* harmony export */   createTimeout: () => (/* reexport safe */ _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_5__.createTimeout),\n/* harmony export */   debugLog: () => (/* reexport safe */ _utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog),\n/* harmony export */   generateIframe: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.generateIframe),\n/* harmony export */   healthieGQL: () => (/* reexport safe */ _api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL),\n/* harmony export */   hideOverlay: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.hideOverlay),\n/* harmony export */   initAddButton: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.initAddButton),\n/* harmony export */   initBookAppointmentButton: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.initBookAppointmentButton),\n/* harmony export */   initCalendar: () => (/* reexport safe */ _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.initCalendar),\n/* harmony export */   initCalendarHeaderBtns: () => (/* reexport safe */ _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.initCalendarHeaderBtns),\n/* harmony export */   initJQuery: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.initJQuery),\n/* harmony export */   initSidebarCalendar: () => (/* reexport safe */ _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.initSidebarCalendar),\n/* harmony export */   isAPIconnected: () => (/* reexport safe */ _api_index__WEBPACK_IMPORTED_MODULE_0__.isAPIconnected),\n/* harmony export */   removeHoverEffect: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.removeHoverEffect),\n/* harmony export */   rescheduleAppointment: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.rescheduleAppointment),\n/* harmony export */   setAppointmentCollapse: () => (/* reexport safe */ _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.setAppointmentCollapse),\n/* harmony export */   showBothCalendars: () => (/* reexport safe */ _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.showBothCalendars),\n/* harmony export */   showInstructions: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.showInstructions),\n/* harmony export */   showOverlay: () => (/* reexport safe */ _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.showOverlay),\n/* harmony export */   verifyEmailPhone: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.verifyEmailPhone),\n/* harmony export */   verifyEmailPhoneButtons: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.verifyEmailPhoneButtons),\n/* harmony export */   waitAddAppointmentsBtn: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitAddAppointmentsBtn),\n/* harmony export */   waitAppointmentSidebar: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentSidebar),\n/* harmony export */   waitAppointmentsHome: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentsHome),\n/* harmony export */   waitAppointmentsProfile: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentsProfile),\n/* harmony export */   waitCalendar: () => (/* reexport safe */ _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.waitCalendar),\n/* harmony export */   waitCarePlan: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitCarePlan),\n/* harmony export */   waitClientList: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitClientList),\n/* harmony export */   waitForAddPatientButton: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitForAddPatientButton),\n/* harmony export */   waitForMishaMessages: () => (/* reexport safe */ _utils_index__WEBPACK_IMPORTED_MODULE_2__.waitForMishaMessages),\n/* harmony export */   waitGoalTab: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitGoalTab),\n/* harmony export */   waitInfo: () => (/* reexport safe */ _init_index__WEBPACK_IMPORTED_MODULE_1__.waitInfo)\n/* harmony export */ });\n/* harmony import */ var _api_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api/index */ \"./api/index.ts\");\n/* harmony import */ var _init_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./init/index */ \"./init/index.ts\");\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/index */ \"./utils/index.ts\");\n/* harmony import */ var _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers/calendar/index */ \"./helpers/calendar/index.ts\");\n/* harmony import */ var _helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers/ui/index */ \"./helpers/ui/index.ts\");\n/* harmony import */ var _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers/timeoutHelpers */ \"./helpers/timeoutHelpers.ts\");\n// Import from api folder\n\n// Import from init folder\n\n// Import from utils folder\n\n// Import from helpers/calendar folder\n\n// Import from helpers/ui folder\n\n// Import from helpers/timeoutHelpers.ts\n\nvar previousUrl = \"\";\nvar carePlanLoopLock = 0;\nvar copyComplete = -1;\nvar timeoutIds = [];\nvar urlValidation = {\n    apiKeys: /\\/settings\\/api_keys$/,\n    appointments: /\\/appointments|\\/organization|\\/providers\\//,\n    appointmentsHome: /^https?:\\/\\/[^/]+\\.com(\\/overview|\\/)?$/,\n    appointmentsProfile: /^https?:\\/\\/([^\\/]+)?\\.?([^\\/]+)\\/users\\/\\d+(?:\\/(?:Overview))?\\/?$/,\n    membership: /^https?:\\/\\/([^\\/]+)?\\.?([^\\/]+)\\/users\\/\\d+(?:\\/(?:Overview|Actions))?\\/?$/,\n    verifyEmailPhone: /^https?:\\/\\/([^\\/]+)?\\.?([^\\/]+)\\/users\\/\\d+(?:\\/(?:Actions))\\/?$/,\n    carePlan: /\\/all_plans$/,\n    clientList: /\\/clients\\/active/,\n    conversations: /\\/conversations/,\n    goals: /\\/users/,\n};\nvar observeDOMChanges = function (mutations, observer) {\n    // Handle URL changes\n    if (location.href !== previousUrl) {\n        previousUrl = location.href;\n        carePlanLoopLock = 0;\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey URL changed to \".concat(location.href));\n        // Clear all timeouts\n        timeoutIds.forEach(function (id) { return clearTimeout(id); });\n        timeoutIds = [];\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.waitForMishaMessages)();\n        // URL checks and function calls\n        if (urlValidation.carePlan.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitCarePlan\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitCarePlan)();\n        }\n        if (urlValidation.goals.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitGoalTab\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitGoalTab)();\n        }\n        if (urlValidation.appointmentsProfile.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitAppointmentsProfile and addMembershipAndOnboarding\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentsProfile)();\n        }\n        if (urlValidation.membership.test(location.href)) {\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.addMembershipAndOnboarding)();\n        }\n        if (urlValidation.verifyEmailPhone.test(location.href)) {\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.verifyEmailPhone)();\n        }\n        if (urlValidation.apiKeys.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitSettingsAPIpage and showInstructions\");\n            (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.waitSettingsAPIpage)();\n            (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_4__.showInstructions)();\n        }\n        if (urlValidation.appointments.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitAddAppointmentsBtn and waitCalendar\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitAddAppointmentsBtn)();\n            (0,_helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.waitCalendar)();\n        }\n        if (urlValidation.appointmentsHome.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitAppointmentsHome\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentsHome)();\n        }\n        if (urlValidation.conversations.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitAppointmentSidebar and waitInfo\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentSidebar)();\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitInfo)();\n        }\n        if (urlValidation.clientList.test(location.href)) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"tampermonkey calls waitClientList\");\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitClientList)();\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitForAddPatientButton)();\n        }\n        (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.isAPIconnected)();\n    }\n    else {\n        if (carePlanLoopLock > 1 && location.href.includes(\"all_plans\")) {\n            var iframe = document.querySelector(\"#MishaFrame.cp-tab-contents\");\n            if (!iframe) {\n                carePlanLoopLock = 0;\n                var goalsTab = document.querySelector('[data-testid=\"goals-tab-btn\"]');\n                if (goalsTab) {\n                    var parentDiv = goalsTab.closest(\"div\");\n                    parentDiv === null || parentDiv === void 0 ? void 0 : parentDiv.remove();\n                }\n                (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitCarePlan)();\n            }\n        }\n    }\n    var calendarTargetClasses = [\"rbc-time-content\", \"rbc-month-view\"];\n    var homeTargetClasses = [\"provider-home-content\"];\n    var basicInfoTargetClasses = [\"cp-sidebar-expandable-section\"];\n    // Helper function to process NodeList\n    var processNodeList = function (nodeList, targetClasses) {\n        return Array.from(nodeList).some(function (node) {\n            if (node instanceof Element) {\n                return targetClasses.some(function (className) { return node.classList.contains(className) || node.querySelector(\".\".concat(className)) !== null; });\n            }\n            return false;\n        });\n    };\n    var _loop_1 = function (mutation) {\n        var target = mutation.target, addedNodes = mutation.addedNodes, removedNodes = mutation.removedNodes;\n        // Check for calendar-related changes\n        if ((target instanceof Element && calendarTargetClasses.some(function (className) { return target.classList.contains(className); })) ||\n            processNodeList(addedNodes, calendarTargetClasses) ||\n            processNodeList(removedNodes, calendarTargetClasses)) {\n            observer.disconnect();\n            var clonedCalendar = document.querySelector(\".cloned-calendar\");\n            if (!clonedCalendar)\n                copyComplete++;\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.debugLog)(\"increased copy complete in observer\", copyComplete);\n            // Replace with the appropriate call if initCalendar expects an argument\n            (0,_helpers_calendar_index__WEBPACK_IMPORTED_MODULE_3__.initCalendar)(!clonedCalendar);\n            observer.observe(document.documentElement, { childList: true, subtree: true });\n            return \"break\";\n        }\n        // Check for home-related changes\n        if ((target instanceof Element && homeTargetClasses.some(function (className) { return target.classList.contains(className); })) ||\n            processNodeList(addedNodes, homeTargetClasses) ||\n            processNodeList(removedNodes, homeTargetClasses)) {\n            observer.disconnect();\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.waitAppointmentsHome)();\n            observer.observe(document.documentElement, { childList: true, subtree: true });\n            return \"break\";\n        }\n        // Check for basic info-related changes\n        if ((target instanceof Element && basicInfoTargetClasses.some(function (className) { return target.classList.contains(className); })) ||\n            processNodeList(addedNodes, basicInfoTargetClasses) ||\n            processNodeList(removedNodes, basicInfoTargetClasses)) {\n            observer.disconnect();\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.addMembershipAndOnboarding)();\n            observer.observe(document.documentElement, { childList: true, subtree: true });\n            return \"break\";\n        }\n    };\n    for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n        var mutation = mutations_1[_i];\n        var state_1 = _loop_1(mutation);\n        if (state_1 === \"break\")\n            break;\n    }\n};\n// Configuration for the observer\nvar config = { subtree: true, childList: true };\nvar observer = new MutationObserver(observeDOMChanges);\nobserver.observe(document.documentElement, config);\n// Export all the necessary functions\n\n\n\n//# sourceURL=webpack://typescript-script/./index.ts?");

/***/ }),

/***/ "./init/index.ts":
/*!***********************!*\
  !*** ./init/index.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addMembershipAndOnboarding: () => (/* binding */ addMembershipAndOnboarding),\n/* harmony export */   initAddButton: () => (/* binding */ initAddButton),\n/* harmony export */   initBookAppointmentButton: () => (/* binding */ initBookAppointmentButton),\n/* harmony export */   initJQuery: () => (/* binding */ initJQuery),\n/* harmony export */   rescheduleAppointment: () => (/* binding */ rescheduleAppointment),\n/* harmony export */   verifyEmailPhone: () => (/* binding */ verifyEmailPhone),\n/* harmony export */   verifyEmailPhoneButtons: () => (/* binding */ verifyEmailPhoneButtons),\n/* harmony export */   waitAddAppointmentsBtn: () => (/* binding */ waitAddAppointmentsBtn),\n/* harmony export */   waitAppointmentSidebar: () => (/* binding */ waitAppointmentSidebar),\n/* harmony export */   waitAppointmentsHome: () => (/* binding */ waitAppointmentsHome),\n/* harmony export */   waitAppointmentsProfile: () => (/* binding */ waitAppointmentsProfile),\n/* harmony export */   waitCarePlan: () => (/* binding */ waitCarePlan),\n/* harmony export */   waitClientList: () => (/* binding */ waitClientList),\n/* harmony export */   waitForAddPatientButton: () => (/* binding */ waitForAddPatientButton),\n/* harmony export */   waitGoalTab: () => (/* binding */ waitGoalTab),\n/* harmony export */   waitInfo: () => (/* binding */ waitInfo)\n/* harmony export */ });\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/index */ \"./utils/index.ts\");\n/* harmony import */ var _helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/timeoutHelpers */ \"./helpers/timeoutHelpers.ts\");\n/* harmony import */ var _api_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/index */ \"./api/index.ts\");\n/* harmony import */ var _helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/ui/index */ \"./helpers/ui/index.ts\");\n/* harmony import */ var _helpers_calendar_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/calendar/index */ \"./helpers/calendar/index.ts\");\n/* harmony import */ var _datadog_browser_logs_bundle_datadog_logs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-logs/bundle/datadog-logs */ \"./node_modules/@datadog/browser-logs/bundle/datadog-logs.js\");\n/* harmony import */ var _datadog_browser_logs_bundle_datadog_logs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_datadog_browser_logs_bundle_datadog_logs__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar isStagingEnv = location.href.includes(\"securestaging\") ? true : false;\nvar mishaURL = isStagingEnv ? \"qa.misha.vori.health/\" : \"misha.vorihealth.com/\";\nvar healthieAPIKey = GM_getValue(isStagingEnv ? \"healthieStagingApiKey\" : \"healthieApiKey\", \"\");\nvar patientNumber = \"\";\nvar carePlanLoopLock = 0;\nvar dataDogLogsInitialized = false;\nvar routeURLs = {\n    schedule: \"schedule\",\n    careplan: \"careplan\",\n    goals: \"app/schedule\",\n    appointment: \"appointment\",\n    appointments: \"appointments\",\n    patientStatus: \"patientStatusStandalone\",\n    providerSchedule: \"provider-schedule\",\n    otpVerify: \"otpVerifyStandalone\",\n    createPatientDialog: \"createPatientDialog\",\n};\nvar styles = {\n    scheduleOverlay: {\n        display: \"inline-block\",\n        background: \"rgb(255, 255, 255)\",\n        maxWidth: \"90vw\", // fallback for browsers that don't support svw\n        width: \"100vw\",\n        height: \"90vh\", // fallback for browsers that don't support svh\n        overflow: \"hidden\",\n    },\n    patientDialogOverlay: {\n        display: \"inline-block\",\n        background: \"rgb(255, 255, 255)\",\n        maxWidth: \"30vw\", // fallback for browsers that don't support svw\n        width: \"30vw\",\n        height: \"80vh\", // fallback for browsers that don't support svh\n        overflow: \"hidden\",\n    },\n    appointmentDetailsOverlay: {\n        height: \"350px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n    },\n    otpOverlay: {\n        width: \"500px\",\n        height: \"500px\",\n    },\n};\nfunction initAddButton() {\n    var $ = initJQuery();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jquery to load\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n            (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"dummy-url\", {}); // to do\n        }, 200);\n        return;\n    }\n    else {\n        var activeTab = $(\".calendar-tabs\").find(\".tab-item.active\");\n        var availabilitiesTab = activeTab && activeTab.text().toLowerCase().includes(\"availability\");\n        if (availabilitiesTab) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Tampermonkey calendar is on availability tab - nothing to do here\");\n            return;\n        }\n        var addAppointmentBtn = $(\".rbc-btn-group.last-btn-group\").find(\"button:contains('Add')\")[0];\n        if (addAppointmentBtn) {\n            var clonedBtn = $(addAppointmentBtn).clone();\n            $(addAppointmentBtn).replaceWith(clonedBtn);\n            clonedBtn.on(\"click\", function (e) {\n                e.stopPropagation();\n                //https://qa.misha.vori.health/schedule/\n                (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.schedule), styles.scheduleOverlay);\n            });\n        }\n        else {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for add appointment button\");\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAddAppointmentsBtn, 200);\n        }\n    }\n}\nfunction initBookAppointmentButton() {\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jquery to load\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () { return (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.schedule, \"/\").concat(patientNumber), styles.scheduleOverlay); }, 200);\n        return;\n    }\n    else {\n        var bookAppointmentBtn = $(\".insurance-authorization-section\").find(\"button:contains('Book Appointment')\")[0];\n        if (bookAppointmentBtn) {\n            var patientNumber_1 = location.href.split(\"/\")[4];\n            var clonedBtn = $(bookAppointmentBtn).clone();\n            $(bookAppointmentBtn).replaceWith(clonedBtn);\n            clonedBtn.on(\"click\", function (e) {\n                e.stopPropagation();\n                (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.schedule, \"/\").concat(patientNumber_1), styles.scheduleOverlay);\n            });\n        }\n        else {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for book appointment button\");\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(initBookAppointmentButton, 200);\n        }\n    }\n}\nfunction rescheduleAppointment(appointmentID) {\n    (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.schedule, \"/\").concat(appointmentID), styles.scheduleOverlay);\n}\nfunction addMembershipAndOnboarding() {\n    // Get phone icon and related column\n    var phoneColumn = document.querySelector(\".col-12.col-sm-6:has(.telephone-icon)\");\n    if (phoneColumn && phoneColumn.parentNode) {\n        var iframeAdded = phoneColumn.parentNode.querySelector(\".misha-iframe-container\");\n        if (!iframeAdded) {\n            // Get the patient number from the URL\n            var patientNumber_2 = location.href.split(\"/\")[4];\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey patient number\", patientNumber_2);\n            // Create iframe (generateIframe returns a jQuery object)\n            var iframe = (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.generateIframe)(\"\".concat(routeURLs.patientStatus, \"/\").concat(patientNumber_2), { height: \"190px\", width: \"400px\" });\n            // Check if iframe already exists\n            var iframeExists = phoneColumn.parentNode.querySelector(\".misha-iframe-container\");\n            // Add iframe after phone element if it does not exist\n            if (!iframeExists) {\n                phoneColumn.parentNode.insertBefore(iframe[0], phoneColumn.nextSibling);\n            }\n        }\n    }\n    else {\n        // Wait for content load and retry\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n            addMembershipAndOnboarding();\n        }, 200);\n    }\n}\nfunction verifyEmailPhone() {\n    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey verifyEmailPhone\");\n    var clientInfoPane = document.getElementsByClassName(\"client-info-pane\");\n    if (clientInfoPane.length > 0) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey found client info pane\");\n        var saveButtons = document.getElementsByClassName(\"client-profile-submit-button healthie-button primary-button small-button float-right\");\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey save button\", saveButtons);\n        if (saveButtons.length > 0) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey found save button\", saveButtons);\n            var saveButton = saveButtons[0]; // Cast to HTMLElement\n            saveButton.onclick = function () {\n                (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n                    window.location.reload();\n                }, 1000);\n            };\n        }\n        var clientInfoPaneObj = clientInfoPane[0];\n        // Load invisible iframe for getPatientInfo to determine verification status of phone/email\n        patientNumber = location.href.split(\"/\")[location.href.split(\"/\").length - 2];\n        var iframe = (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.generateIframe)(\"getPatientInfo?id=\".concat(patientNumber), {\n            position: \"absolute\",\n            height: \"0px\",\n            width: \"0px\",\n            border: \"0px\",\n        });\n        // Append to document body\n        $(clientInfoPaneObj).append(iframe);\n    }\n    else {\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n            verifyEmailPhone();\n        }, 200);\n    }\n}\nfunction initJQuery() {\n    var $ = unsafeWindow.jQuery;\n    if ($ && $ !== undefined && typeof $ === \"function\") {\n        return $;\n    }\n    else {\n        var script = document.createElement(\"script\");\n        script.src = \"https://code.jquery.com/jquery-3.7.0.min.js\";\n        script.type = \"text/javascript\";\n        script.onload = function () {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey jquery loaded successfully\");\n        };\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(initJQuery, 200);\n    }\n}\ninitJQuery();\nfunction setupDatadogLogs() {\n    var env = isStagingEnv ? 'qa' : 'prod';\n    var clientToken = 'pubdf55240f49807c01cd3ed2168506ced8';\n    // Datadog doesnt provide ts support, forcing typing to have an access to DD_LOGS object\n    var DD_LOGS = window.DD_LOGS;\n    DD_LOGS.onReady(function () {\n        DD_LOGS.init({\n            clientToken: clientToken,\n            env: env,\n            site: 'datadoghq.com',\n            service: 'tampermonkey',\n        });\n        dataDogLogsInitialized = true;\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey datadog logs loaded successfully\");\n        DD_LOGS.logger.info(' datadog logs are initialized');\n    });\n}\nfunction initDatadog() {\n    var $ = unsafeWindow.datadogLogs;\n    if ($ && $ !== undefined && typeof $ === \"function\") {\n        return $;\n    }\n    else {\n        var script = document.createElement(\"script\");\n        script.src = \"https://www.datadoghq-browser-agent.com/us1/v5/datadog-logs.js\";\n        script.type = \"text/javascript\";\n        script.onload = function () {\n            !dataDogLogsInitialized && setupDatadogLogs();\n        };\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(initDatadog, 200);\n    }\n    ;\n}\ninitDatadog();\nfunction verifyEmailPhoneButtons(isEmail) {\n    var field = isEmail ? document.getElementById(\"email\") : document.getElementById(\"phone_number\");\n    if (field && field.value != \"\") {\n        patientNumber = location.href.split(\"/\")[location.href.split(\"/\").length - 2];\n        var verifyOverlayURL_1 = routeURLs.otpVerify + \"?id=\".concat(patientNumber);\n        verifyOverlayURL_1 += isEmail ? \"&email=\".concat(field.value) : \"&phone=\".concat(field.value);\n        var existingButton = isEmail ? document.getElementById(\"verify-email-button\") : document.getElementById(\"verify-phone-button\");\n        if (!existingButton) {\n            // Creating a button style string\n            var buttonStyle = {\n                background: \"#026460\",\n                color: \"white\",\n                borderRadius: \"2px\",\n            };\n            var buttonStyleString = Object.entries(buttonStyle)\n                .map(function (_a) {\n                var property = _a[0], value = _a[1];\n                return \"\".concat(property, \": \").concat(value, \";\");\n            })\n                .join(\" \");\n            // Create and insert the button\n            var button = $(\"<button>\", {\n                id: isEmail ? \"verify-email-button\" : \"verify-phone-button\",\n                text: \"Verify\",\n                style: buttonStyleString,\n                type: \"button\",\n                click: function () {\n                    (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(verifyOverlayURL_1, styles.otpOverlay);\n                },\n            });\n            if (field.parentNode) {\n                field.parentNode.insertBefore(button[0], field.nextSibling);\n                // Adjusting the container style\n                if (field.parentElement) {\n                    var containerStyle = field.parentElement.style;\n                    containerStyle.display = \"flex\";\n                    containerStyle.flexDirection = \"row\";\n                }\n            }\n        }\n    }\n}\nfunction waitAddAppointmentsBtn() {\n    var $ = initJQuery();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey jquery not loaded\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAddAppointmentsBtn, 200);\n        return;\n    }\n    else {\n        initAddButton();\n    }\n}\nfunction waitAppointmentSidebar() {\n    var appointmentWindow = document.querySelector('[data-testid=\"cp-section-appointments\"]');\n    var goalsTab = document.querySelector('[data-testid=\"tab-goals\"]');\n    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey goals tab \", goalsTab);\n    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"oksana test\");\n    console.log('oksana test console log');\n    throw Error('error-test');\n    goalsTab && goalsTab.remove();\n    var actionLinks = Array.from(document.getElementsByClassName(\"healthie-action-link\"));\n    if (appointmentWindow && actionLinks[0]) {\n        goalsTab && goalsTab.remove();\n        actionLinks.forEach(function (element) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey action link found\", element);\n            element.remove();\n        });\n    }\n    else {\n        //wait for content load\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting to hide chat links\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAppointmentSidebar, 500);\n    }\n}\nfunction waitAppointmentsHome() {\n    var $ = initJQuery();\n    if (!$) {\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAppointmentsHome, 200);\n        return;\n    }\n    else {\n        var appointmentWindow = document.getElementsByClassName(\"provider-home-appointments\");\n        if (appointmentWindow.length > 0) {\n            var appointmentWindowObj_1 = appointmentWindow[0];\n            while (appointmentWindowObj_1.childNodes.length > 1) {\n                var lastChild = appointmentWindowObj_1.lastChild;\n                if (lastChild) {\n                    var childClassName = lastChild.className;\n                    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey removing child\", childClassName);\n                    appointmentWindowObj_1.removeChild(lastChild);\n                }\n            }\n            patientNumber = location.href.split(\"/\")[location.href.split(\"/\").length - 1];\n            var getCurrentUserQuery = \"query user{\\n         user(or_current_user: true){\\n          id\\n        }\\n        }\";\n            var getCurrentUserPayload = JSON.stringify({\n                query: getCurrentUserQuery,\n            });\n            (0,_api_index__WEBPACK_IMPORTED_MODULE_2__.healthieGQL)(getCurrentUserPayload).then(function (response) {\n                var userId = response.data.user.id;\n                var iframeSrc = \"https://\".concat(mishaURL).concat(routeURLs.providerSchedule, \"/\").concat(userId);\n                var existingIframe = document.querySelector(\"iframe[src=\\\"\".concat(iframeSrc, \"\\\"]\"));\n                if (!existingIframe) {\n                    var iframe = (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.generateIframe)(\"\".concat(routeURLs.providerSchedule, \"/\").concat(userId));\n                    $(appointmentWindowObj_1).append(iframe);\n                }\n            });\n        }\n        else {\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAppointmentsHome, 200);\n        }\n    }\n}\nfunction waitAppointmentsProfile() {\n    var $ = initJQuery();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey jquery not loaded\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAppointmentsProfile, 200);\n        return;\n    }\n    else {\n        initBookAppointmentButton();\n        // check to see if the appointment view contents have loaded\n        var appointmentWindow = $(\".insurance-authorization-section div\").filter(function () {\n            return $(this).find(\".tabs.apps-tabs\").length > 0;\n        })[0];\n        if (appointmentWindow) {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey found appointment view on user profile\");\n            $(appointmentWindow).css({ margin: \"0\", padding: \"3px\" });\n            // get the parent with class .column.is-6 and change the width to 100%\n            var parent_1 = $(appointmentWindow).closest(\".column.is-6\");\n            parent_1\n                .css({\n                width: \"98%\",\n                minHeight: \"420px\",\n                maxHeight: \"max(60vh, 560px)\",\n                overflow: \"scroll\",\n                marginTop: \"2rem\",\n                padding: \"0\",\n            })\n                .closest(\".columns\") // also adjust style of grandparent\n                .css({\n                display: \"flex\",\n                flexDirection: \"column\",\n            });\n            // also adjust width of packages section\n            $(\".insurance-authorization-section.cp-section.with-dropdown-menus-for-packgs\").closest(\".column.is-6\").css(\"width\", \"100%\");\n            // remove all children of appointments section\n            while (appointmentWindow.childNodes.length > 0) {\n                var lastChild = appointmentWindow.lastChild;\n                if (lastChild) {\n                    var childClassName = lastChild.className;\n                    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey removing child\", childClassName);\n                    appointmentWindow.removeChild(lastChild);\n                }\n            }\n            // example of url to load - https://securestaging.gethealthie.com/users/388687\n            // can also be - https://securestaging.gethealthie.com/users/388687/Overview\n            var patientID = location.href.split(\"/\")[4];\n            var iframe = (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.generateIframe)(\"\".concat(routeURLs.appointments, \"/patient/\").concat(patientID));\n            $(appointmentWindow).append(iframe);\n        }\n        else {\n            // wait for content load\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting appointment view on user profile\");\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitAppointmentsProfile, 200);\n        }\n    }\n}\nfunction handleCarePlanTabClick(cpTabContents, patientNumber, healthieAPIKey) {\n    if (location.href.includes(\"all_plans\")) {\n        if (healthieAPIKey !== \"\") {\n            cpTabContents && cpTabContents.empty();\n        }\n        waitCarePlan();\n    }\n}\nfunction waitClientList() {\n    var $ = initJQuery();\n    var bookLinks = Array.from(document.querySelectorAll(\"button\")).filter(function (e) { return e.textContent === \"Book Session\"; });\n    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting to update book link\", bookLinks);\n    if (bookLinks.length > 0) {\n        bookLinks.forEach(function (element) {\n            var _a, _b;\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey book link found\", element);\n            var parentElement = element.parentElement;\n            if (parentElement) {\n                var ID_1 = (_b = (_a = parentElement.getAttribute(\"data-testid\")) === null || _a === void 0 ? void 0 : _a.split(\"-\").pop()) !== null && _b !== void 0 ? _b : \"\";\n                var bookButton = $(element);\n                var clonedButton = bookButton.clone(true);\n                clonedButton.on(\"click\", function (e) {\n                    e.stopPropagation();\n                    (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.showOverlay)(\"\".concat(routeURLs.schedule, \"/\").concat(ID_1), styles.scheduleOverlay);\n                });\n                bookButton.replaceWith(clonedButton);\n            }\n        });\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitClientList, 500);\n    }\n    else {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting to update book link\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitClientList, 500);\n    }\n}\nfunction setGeneralTab() {\n    var generalTab = document.querySelector('[data-testid=\"activetab-general\"]');\n    (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey general tab is\", generalTab);\n    generalTab &&\n        generalTab.addEventListener(\"click\", function () {\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey clicked general tab\", generalTab);\n            waitAppointmentSidebar();\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n                (0,_helpers_calendar_index__WEBPACK_IMPORTED_MODULE_4__.setAppointmentCollapse)();\n            }, 600);\n        }, false);\n}\nfunction waitCarePlan() {\n    var $ = initJQuery();\n    if (!$) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for jquery to load\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitCarePlan, 200);\n    }\n    else {\n        // Check if the care plan tab contents have loaded\n        var cpTabContents_1 = $(\".cp-tab-contents\");\n        if (cpTabContents_1.length > 0) {\n            // Handle edge case: clicking on careplan tab multiple times\n            var careplanTabBtn = $('a[data-testid=\"careplans-tab-btn\"]');\n            careplanTabBtn.off(\"click\").on(\"click\", function () { return handleCarePlanTabClick(cpTabContents_1, patientNumber, healthieAPIKey); });\n            var parent_2 = cpTabContents_1.eq(0);\n            // Add a div with the text \"Loading Careplan...\"\n            var loadingDiv = $(\"<div>\").addClass(\"vori-loading-message\").text(\"Loading Careplan...\").css({\n                textAlign: \"center\",\n                margin: \"1.8rem\",\n                fontSize: \"18px\",\n            });\n            var loadingDivExists = $(\".vori-loading-message\");\n            if (!loadingDivExists.length) {\n                parent_2.append(loadingDiv);\n            }\n            patientNumber = location.href.split(\"/\")[location.href.split(\"/\").length - 2];\n            var iframe_1 = (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.generateIframe)(\"\".concat(patientNumber, \"/\").concat(routeURLs.careplan), {\n                className: \"cp-tab-contents\",\n            });\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n                parent_2.empty();\n                parent_2.append(iframe_1);\n            }, 50);\n            carePlanLoopLock = carePlanLoopLock + 1;\n            // Remove styling of Healthie tab element\n            // document.getElementsByClassName(\"column is-12 is-12-mobile\")[0].style = \"\";\n        }\n        else {\n            // Wait for content load\n            (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting for careplan tab\");\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitCarePlan, 200);\n        }\n    }\n}\nfunction waitGoalTab() {\n    // Check to see if the care plan tab contents has loaded\n    var goalsTabBtn = document.querySelector('[data-testid=\"goals-tab-btn\"]');\n    if (goalsTabBtn && goalsTabBtn.parentElement) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey found goals tab\");\n        goalsTabBtn.parentElement.remove();\n    }\n    else {\n        // Wait for content load\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey waiting goals tab\");\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitGoalTab, 200);\n    }\n}\nfunction waitInfo() {\n    var infoButton = document.getElementsByClassName(\"right-menu-trigger is-hidden-mobile\")[0];\n    if (infoButton) {\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n            setGeneralTab();\n            (0,_helpers_calendar_index__WEBPACK_IMPORTED_MODULE_4__.setAppointmentCollapse)();\n        }, 600);\n        infoButton.addEventListener(\"click\", function () {\n            (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(function () {\n                var appointmentWindow = document.querySelector('[data-testid=\"cp-section-appointments\"]');\n                (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"tampermonkey info clicked\", appointmentWindow);\n                setGeneralTab();\n                (0,_helpers_calendar_index__WEBPACK_IMPORTED_MODULE_4__.setAppointmentCollapse)();\n                appointmentWindow && waitAppointmentSidebar();\n            }, 500);\n        }, false);\n    }\n    else {\n        (0,_helpers_timeoutHelpers__WEBPACK_IMPORTED_MODULE_1__.createTimeout)(waitInfo, 500);\n    }\n}\nfunction waitForAddPatientButton() {\n    var $ = initJQuery();\n    if ($(\".add-client-container button:contains('Add Client')\").length > 0) {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Add Client Button found\");\n        (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_3__.createPatientDialogIframe)();\n    }\n    else {\n        (0,_utils_index__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Waiting for 'Add Client' button\");\n        setTimeout(waitForAddPatientButton, 200);\n    }\n}\n\n\n\n//# sourceURL=webpack://typescript-script/./init/index.ts?");

/***/ }),

/***/ "./utils/index.ts":
/*!************************!*\
  !*** ./utils/index.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToCSSProperty: () => (/* binding */ convertToCSSProperty),\n/* harmony export */   debugLog: () => (/* binding */ debugLog),\n/* harmony export */   waitForMishaMessages: () => (/* binding */ waitForMishaMessages)\n/* harmony export */ });\n/* harmony import */ var _api_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/index */ \"./api/index.ts\");\n/* harmony import */ var _init_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../init/index */ \"./init/index.ts\");\n/* harmony import */ var _helpers_ui_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/ui/index */ \"./helpers/ui/index.ts\");\n\n\n\nvar isStagingEnv = location.href.includes(\"securestaging\") ? true : false;\nvar healthieURL = isStagingEnv ? \"securestaging.gethealthie.com\" : \"vorihealth.gethealthie.com\";\nvar debug = false;\nvar patientNumber = \"\";\nvar isEmailVerified = true;\nvar isPhoneNumberVerified = true;\nvar isLoadingEmailPhone = true;\nfunction convertToCSSProperty(jsProperty) {\n    return jsProperty.replace(/[A-Z]/g, function (match) { return \"-\".concat(match.toLowerCase()); });\n}\nfunction debugLog() {\n    var _a;\n    var messages = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        messages[_i] = arguments[_i];\n    }\n    if (isStagingEnv || debug) {\n        (_a = unsafeWindow.console).log.apply(_a, messages);\n    }\n}\nfunction waitForMishaMessages() {\n    window.onmessage = function (event) {\n        debugLog(\"tampermonkey received misha event\", event);\n        //check event to see if is care plan message\n        if (event.data.tmInput !== undefined && patientNumber !== \"\") {\n            // let's get all user goals and delete them before adding new ones\n            var getGoalQuery = \"query {\\n          goals(user_id: \\\"\".concat(patientNumber, \"\\\", per_page: 100) {\\n            id,\\n            name\\n          }\\n        }\\n        \");\n            var getGoalPayload = JSON.stringify({ query: getGoalQuery });\n            (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL)(getGoalPayload).then(function (response) {\n                var allGoals = response.data.goals;\n                debugLog(\"tampermonkey all goals\", response);\n                // delete all goals\n                allGoals.forEach(function (goal) {\n                    var deleteGoalQuery = \"mutation {\\n              deleteGoal(input: {id: \\\"\".concat(goal.id, \"\\\"}) {\\n                goal {\\n                  id\\n                }\\n                messages {\\n                  field\\n                  message\\n                }\\n              }\\n            }\\n            \");\n                    var deleteGoalPayload = JSON.stringify({\n                        query: deleteGoalQuery,\n                    });\n                    (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL)(deleteGoalPayload).then(function (response) {\n                        debugLog(\"tampermonkey deleted goal\", response);\n                    });\n                });\n                var carePlan = event.data.tmInput;\n                debugLog(\"tampermonkey message posted \".concat(patientNumber, \" care plan status \").concat(JSON.stringify(carePlan)));\n                var goal = carePlan.goal.title;\n                debugLog(\"tampermokey goal title \", goal);\n                var milestones = carePlan.milestones;\n                //create goal for each milestone\n                milestones.forEach(function (element) {\n                    debugLog(\"tampermonkey milestone inserted\", element);\n                    var milestoneTitle = element.title;\n                    if (element.isVisible) {\n                        var query_1 = \"mutation {\\n                createGoal(input: {\\n                  name: \\\"\".concat(milestoneTitle, \"\\\",\\n                  user_id: \\\"\").concat(patientNumber, \"\\\",\\n                  repeat: \\\"Once\\\"\\n                }) {\\n                  goal {\\n                    id\\n                  }\\n                  messages {\\n                    field\\n                    message\\n                  }\\n                }\\n              }\\n              \");\n                        var payload_1 = JSON.stringify({ query: query_1 });\n                        (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL)(payload_1);\n                    }\n                });\n                //create goal for what matters to me\n                var query = \"mutation {\\n            createGoal(input: {\\n              name: \\\"\".concat(goal, \"\\\",\\n              user_id: \\\"\").concat(patientNumber, \"\\\",\\n              repeat: \\\"Once\\\"\\n            }) {\\n              goal {\\n                id\\n              }\\n              messages {\\n                field\\n                message\\n              }\\n            }\\n          }\\n          \");\n                var payload = JSON.stringify({ query: query });\n                (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL)(payload);\n                var tasks = carePlan.tasks.tasks;\n                debugLog(\"tampermonkey tasks are \", tasks);\n                //create goal for each task\n                tasks.forEach(function (element) {\n                    debugLog(\"tampermonkey task is \", element);\n                    if (element.contentfulId == \"6nJFhYE6FJcnWLc3r1KHPR\") {\n                        //motion guide task\n                        debugLog(\"tampermonkey motion guide assigned\");\n                        //create goal for each assigned exercise\n                        element.items[0].exercises.forEach(function (element) {\n                            debugLog(\"tampermonkey\", element);\n                            var name = element.contentfulEntityId + \" - \" + element.side;\n                            var query = \"mutation {\\n                  createGoal(input: {\\n                    name: \\\"\".concat(name, \"\\\",\\n                    user_id: \\\"\").concat(patientNumber, \"\\\",\\n                    repeat: \\\"Daily\\\"\\n                  }) {\\n                    goal {\\n                      id\\n                    }\\n                    messages {\\n                      field\\n                      message\\n                    }\\n                  }\\n                }\\n                \");\n                            var payload = JSON.stringify({ query: query });\n                            (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL)(payload);\n                        });\n                    }\n                    else {\n                        if (element.isVisible) {\n                            //regular task\n                            debugLog(\"tampermonkey regular task assigned\");\n                            var query_2 = \"mutation {\\n                  createGoal(input: {\\n                    name: \\\"\".concat(element.title, \"\\\",\\n                    user_id: \\\"\").concat(patientNumber, \"\\\",\\n                    repeat: \\\"Daily\\\"\\n                  }) {\\n                    goal {\\n                      id\\n                    }\\n                    messages {\\n                      field\\n                      message\\n                    }\\n                  }\\n                }\\n                \");\n                            var payload_2 = JSON.stringify({ query: query_2 });\n                            (0,_api_index__WEBPACK_IMPORTED_MODULE_0__.healthieGQL)(payload_2);\n                        }\n                    }\n                });\n            });\n        }\n        if (event.data.reschedule !== undefined || event.data.reload !== undefined) {\n            (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.rescheduleAppointment)(event.data.reschedule);\n        }\n        if (event.data.reload !== undefined) {\n            window.location.reload();\n        }\n        if (event.data.closeWindow !== undefined) {\n            (0,_helpers_ui_index__WEBPACK_IMPORTED_MODULE_2__.hideOverlay)();\n        }\n        if (event.data.patientProfile !== undefined) {\n            debugLog(\"tampermonkey navigating to patient profile\", event.data.patientProfile);\n            window.open(\"https://\".concat(healthieURL, \"/users/\").concat(event.data.patientProfile), \"_top\");\n        }\n        if (event.data.isEmailVerified !== undefined) {\n            debugLog(\"tampermonkey is email verified\", event.data.isEmailVerified);\n            isEmailVerified = event.data.isEmailVerified;\n            !isEmailVerified && (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.verifyEmailPhoneButtons)(true);\n        }\n        if (event.data.isPhoneNumberVerified !== undefined) {\n            debugLog(\"tampermonkey is phone verified\", event.data.isPhoneNumberVerified);\n            isPhoneNumberVerified = event.data.isPhoneNumberVerified;\n            !isPhoneNumberVerified && (0,_init_index__WEBPACK_IMPORTED_MODULE_1__.verifyEmailPhoneButtons)(false);\n        }\n        if (event.data.loading !== undefined) {\n            debugLog(\"tampermonkey loading\", event.data.loading);\n            isLoadingEmailPhone = event.data.loading ? true : false;\n        }\n    };\n}\n\n\n\n//# sourceURL=webpack://typescript-script/./utils/index.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.ts");
/******/ 	
/******/ })()
;